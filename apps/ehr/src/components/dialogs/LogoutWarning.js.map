{"version":3,"file":"LogoutWarning.js","sourceRoot":"","sources":["LogoutWarning.tsx"],"names":[],"mappings":";;AAUA,gCA0EC;AApFD,0CAAuH;AACvH,+BAA0D;AAS1D,SAAwB,aAAa,CAAC,EAKjB;QAJnB,SAAS,eAAA,EACT,KAAK,WAAA,EACL,UAAU,gBAAA,EACV,gBAAgB,sBAAA;IAEhB,IAAM,KAAK,GAAG,IAAA,mBAAQ,GAAE,CAAC;IACnB,IAAA,KAA4B,IAAA,gBAAQ,EAAC,gBAAgB,CAAC,EAArD,SAAS,QAAA,EAAE,YAAY,QAA8B,CAAC;IAE7D,IAAA,iBAAS,EAAC;QACR,IAAI,UAAsC,CAAC;QAE3C,IAAI,SAAS,EAAE,CAAC;YACd,YAAY,CAAC,gBAAgB,CAAC,CAAC;YAE/B,UAAU,GAAG,WAAW,CAAC;gBACvB,YAAY,CAAC,UAAC,aAAa;oBACzB,IAAI,aAAa,IAAI,CAAC,EAAE,CAAC;wBACvB,aAAa,CAAC,UAAU,CAAC,CAAC;wBAC1B,KAAK,EAAE,CAAC;wBACR,OAAO,CAAC,CAAC;oBACX,CAAC;oBACD,OAAO,aAAa,GAAG,CAAC,CAAC;gBAC3B,CAAC,CAAC,CAAC;YACL,CAAC,EAAE,IAAI,CAAC,CAAC;QACX,CAAC;QAED,OAAO;YACL,IAAI,UAAU,EAAE,CAAC;gBACf,aAAa,CAAC,UAAU,CAAC,CAAC;YAC5B,CAAC;QACH,CAAC,CAAC;IACJ,CAAC,EAAE,CAAC,SAAS,EAAE,gBAAgB,EAAE,KAAK,CAAC,CAAC,CAAC;IAEzC,IAAM,cAAc,GAAG;QACrB,YAAY,CAAC,gBAAgB,CAAC,CAAC;QAC/B,UAAU,EAAE,CAAC;IACf,CAAC,CAAC;IAEF,IAAM,QAAQ,GAAG;QACf,UAAU,EAAE,GAAG;QACf,aAAa,EAAE,MAAM;QACrB,YAAY,EAAE,CAAC;KAChB,CAAC;IAEF,OAAO,CACL,CAAC,iBAAM,CACL,IAAI,CAAC,CAAC,SAAS,CAAC,CAChB,OAAO,CAAC,CAAC,KAAK,CAAC,CACf,iBAAiB,CACjB,EAAE,CAAC,CAAC;YACF,gBAAgB,EAAE;gBAChB,OAAO,EAAE,CAAC;aACX;SACF,CAAC,CAEF;MAAA,CAAC,sBAAW,CAAC,OAAO,CAAC,IAAI,CAAC,KAAK,CAAC,cAAc,CAAC,EAAE,CAAC,CAAC,EAAE,KAAK,EAAE,KAAK,EAAE,CAAC,CAClE;;MACF,EAAE,sBAAW,CACb;MAAA,CAAC,wBAAa,CACZ;QAAA,CAAC,4BAAiB,CAAC,EAAE,CAAC,CAAC,EAAE,KAAK,EAAE,KAAK,CAAC,OAAO,CAAC,IAAI,CAAC,OAAO,EAAE,CAAC,CAC3D;oCAA0B,CAAC,SAAS,CAAE;QACxC,EAAE,4BAAiB,CACrB;MAAA,EAAE,wBAAa,CACf;MAAA,CAAC,wBAAa,CACZ;QAAA,CAAC,iBAAM,CAAC,OAAO,CAAC,UAAU,CAAC,OAAO,CAAC,CAAC,cAAc,CAAC,CAAC,IAAI,CAAC,QAAQ,CAAC,EAAE,CAAC,CAAC,QAAQ,CAAC,CAC7E;;QACF,EAAE,iBAAM,CACR;QAAA,CAAC,iBAAM,CAAC,OAAO,CAAC,WAAW,CAAC,OAAO,CAAC,CAAC,KAAK,CAAC,CAAC,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,OAAO,CAAC,EAAE,CAAC,CAAC,QAAQ,CAAC,CACnF;;QACF,EAAE,iBAAM,CACV;MAAA,EAAE,wBAAa,CACjB;IAAA,EAAE,iBAAM,CAAC,CACV,CAAC;AACJ,CAAC","sourcesContent":["import { Button, Dialog, DialogActions, DialogContent, DialogContentText, DialogTitle, useTheme } from '@mui/material';\nimport { ReactElement, useEffect, useState } from 'react';\n\ninterface LogoutWarningProps {\n  modalOpen: boolean;\n  onEnd: () => void;\n  onContinue: () => void;\n  timeoutInSeconds: number;\n}\n\nexport default function LogoutWarning({\n  modalOpen,\n  onEnd,\n  onContinue,\n  timeoutInSeconds,\n}: LogoutWarningProps): ReactElement {\n  const theme = useTheme();\n  const [countdown, setCountdown] = useState(timeoutInSeconds);\n\n  useEffect(() => {\n    let intervalId: NodeJS.Timeout | undefined;\n\n    if (modalOpen) {\n      setCountdown(timeoutInSeconds);\n\n      intervalId = setInterval(() => {\n        setCountdown((prevCountdown) => {\n          if (prevCountdown <= 1) {\n            clearInterval(intervalId);\n            onEnd();\n            return 0;\n          }\n          return prevCountdown - 1;\n        });\n      }, 1000);\n    }\n\n    return () => {\n      if (intervalId) {\n        clearInterval(intervalId);\n      }\n    };\n  }, [modalOpen, timeoutInSeconds, onEnd]);\n\n  const handleContinue = (): void => {\n    setCountdown(timeoutInSeconds);\n    onContinue();\n  };\n\n  const buttonSx = {\n    fontWeight: 500,\n    textTransform: 'none',\n    borderRadius: 6,\n  };\n\n  return (\n    <Dialog\n      open={modalOpen}\n      onClose={onEnd}\n      disableScrollLock\n      sx={{\n        '.MuiPaper-root': {\n          padding: 2,\n        },\n      }}\n    >\n      <DialogTitle variant=\"h4\" color=\"primary.dark\" sx={{ width: '80%' }}>\n        Your session is about to expire\n      </DialogTitle>\n      <DialogContent>\n        <DialogContentText sx={{ color: theme.palette.text.primary }}>\n          You will be logged out in {countdown} seconds due to inactivity.\n        </DialogContentText>\n      </DialogContent>\n      <DialogActions>\n        <Button variant=\"outlined\" onClick={handleContinue} size=\"medium\" sx={buttonSx}>\n          Continue session\n        </Button>\n        <Button variant=\"contained\" onClick={onEnd} size=\"medium\" color=\"error\" sx={buttonSx}>\n          End session\n        </Button>\n      </DialogActions>\n    </Dialog>\n  );\n}\n"]}