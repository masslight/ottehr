{"version":3,"file":"Header.js","sourceRoot":"","sources":["Header.tsx"],"names":[],"mappings":"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","sourcesContent":["import CloseIcon from '@mui/icons-material/Close';\nimport { Box, IconButton, useTheme } from '@mui/material';\nimport { FC } from 'react';\nimport { dataTestIds } from 'src/constants/data-test-ids';\nimport { PrintVisitLabelButton } from 'src/features/css-module/components/PrintVisitLabelButton';\nimport { showEnvironmentBanner } from '../../App';\nimport { BANNER_HEIGHT } from '../../helpers/misc.helper';\nimport { useGetPatient } from '../../hooks/useGetPatient';\nimport { Contacts, FullNameDisplay, IdentifiersRow, PatientAvatar, Summary } from './info';\n\ntype HeaderProps = {\n  handleDiscard: () => void;\n  id?: string;\n};\n\nexport const Header: FC<HeaderProps> = ({ handleDiscard, id }) => {\n  const theme = useTheme();\n\n  const { loading, patient, appointments } = useGetPatient(id);\n\n  // todo: product has said that on screens with no specific encounter, use the latest encounter for the label\n  // which seems ok for now but might change later\n  const latestAppointmentEncounter = appointments?.[0].encounter;\n\n  return (\n    <Box\n      sx={{\n        position: 'sticky',\n        top: showEnvironmentBanner ? BANNER_HEIGHT : 0,\n        zIndex: 1000,\n        display: 'flex',\n        justifyContent: 'space-between',\n        alignItems: 'center',\n        backgroundColor: theme.palette.background.paper,\n        padding: theme.spacing(1, 3),\n        borderBottom: `1px solid ${theme.palette.divider}`,\n        boxShadow: '0px 2px 4px -1px rgba(0, 0, 0, 0.2)',\n      }}\n    >\n      <Box sx={{ display: 'flex', flexDirection: 'column', gap: 0.5 }}>\n        <IdentifiersRow id={id} loading={false} />\n        <Box sx={{ display: 'flex', alignItems: 'center', gap: 2 }}>\n          <Box sx={{ flex: '64px 0 0' }}>\n            <PatientAvatar id={id} sx={{ width: 64, height: 64 }} />\n          </Box>\n          <Box sx={{ display: 'flex', flexDirection: 'column', gap: 0.5 }}>\n            <Box sx={{ display: 'flex', rowGap: 0.5, columnGap: 2, flexWrap: 'wrap' }}>\n              <FullNameDisplay patient={patient} loading={loading} variant=\"h5\" />\n              <PrintVisitLabelButton encounterId={latestAppointmentEncounter?.id} />\n              <Summary patient={patient} loading={loading} />\n            </Box>\n            <Contacts patient={patient} loading={loading} />\n          </Box>\n        </Box>\n      </Box>\n      <Box>\n        <IconButton onClick={handleDiscard} aria-label=\"Close\" data-testid={dataTestIds.patientHeader.closeButton}>\n          <CloseIcon />\n        </IconButton>\n      </Box>\n    </Box>\n  );\n};\n"]}