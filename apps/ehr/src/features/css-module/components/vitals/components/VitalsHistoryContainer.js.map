{"version":3,"file":"VitalsHistoryContainer.js","sourceRoot":"","sources":["VitalsHistoryContainer.tsx"],"names":[],"mappings":"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","sourcesContent":["import ArrowDropDownIcon from '@mui/icons-material/ArrowDropDown';\nimport ArrowDropUpIcon from '@mui/icons-material/ArrowDropUp';\nimport { Box, Button, Divider, Skeleton, Typography } from '@mui/material';\nimport React, { JSX, useMemo, useState } from 'react';\nimport { VitalsObservationDTO } from 'utils';\nimport { HISTORY_ELEMENT_SKELETON_TEXT } from '../types';\n\ntype VitalsHistoryContainerProps<TypeObsDTO extends VitalsObservationDTO> = {\n  currentEncounterObs: TypeObsDTO[];\n  historicalObs: TypeObsDTO[];\n  isLoading: boolean;\n  historyElementSkeletonText?: string;\n  historyElementCreator: (historyEntry: TypeObsDTO) => React.ReactNode;\n};\n\nexport function VitalsHistoryContainer<TypeObsDTO extends VitalsObservationDTO>({\n  currentEncounterObs,\n  historicalObs,\n  isLoading,\n  historyElementSkeletonText = HISTORY_ELEMENT_SKELETON_TEXT,\n  historyElementCreator: historyElement,\n}: VitalsHistoryContainerProps<TypeObsDTO>): JSX.Element {\n  const [isMoreEntitiesShown, setIsMoreEntitiesShown] = useState(false);\n  const toggleSeeMore = (): void => {\n    setIsMoreEntitiesShown((state) => !state);\n  };\n\n  const { mainHistoryEntries, extraHistoryEntries } = useMemo(() => {\n    const historyEntries = [...currentEncounterObs, ...historicalObs];\n    const mainHistoryEntries = historyEntries.slice(0, Math.min(historyEntries.length, 3));\n    const startIndex = Math.min(historyEntries.length, 3);\n    const extraHistoryEntries = historyEntries.slice(startIndex, historyEntries.length);\n    return { mainHistoryEntries, extraHistoryEntries };\n  }, [currentEncounterObs, historicalObs]);\n\n  const hasExtraHistoryEntries = extraHistoryEntries && extraHistoryEntries.length > 0;\n\n  const fullHistoryEntriesList = useMemo(() => {\n    if (!isMoreEntitiesShown) {\n      return mainHistoryEntries;\n    }\n    return [...mainHistoryEntries, ...(extraHistoryEntries ?? [])];\n  }, [isMoreEntitiesShown, mainHistoryEntries, extraHistoryEntries]);\n\n  if (isLoading) {\n    return (\n      <Box sx={{ p: 2, display: 'flex', flexDirection: 'column', gap: 1 }}>\n        {Array(3)\n          .fill(0)\n          .map((_, index) => (\n            <Box key={index}>\n              <VitalsHistoryElementSkeleton text={historyElementSkeletonText} />\n              {index < mainHistoryEntries.length - 1 && <Divider orientation=\"horizontal\" sx={{ width: '100%' }} />}\n            </Box>\n          ))}\n        <Skeleton>\n          <Typography sx={{ fontSize: '16px' }}>See more</Typography>\n        </Skeleton>\n      </Box>\n    );\n  }\n  return (\n    <Box sx={{ p: 2, display: 'flex', flexDirection: 'column', gap: 1 }}>\n      {fullHistoryEntriesList.map((entry, index) => (\n        <Box key={entry.resourceId}>\n          {historyElement(entry)}\n          {index < fullHistoryEntriesList.length - 1 && <Divider orientation=\"horizontal\" sx={{ width: '100%' }} />}\n        </Box>\n      ))}\n\n      {hasExtraHistoryEntries && (\n        <Button\n          sx={{\n            display: 'flex',\n            textTransform: 'none',\n            textAlign: 'left',\n            justifyContent: 'flex-start',\n            color: 'primary.main',\n            minWidth: 'auto',\n            fontWeight: 'bold',\n            '&:hover': { backgroundColor: 'transparent' },\n          }}\n          onClick={toggleSeeMore}\n          startIcon={isMoreEntitiesShown ? <ArrowDropUpIcon /> : <ArrowDropDownIcon />}\n        >\n          {isMoreEntitiesShown ? 'See less' : 'See more'}\n        </Button>\n      )}\n    </Box>\n  );\n}\n\nexport const VitalsHistoryElementSkeleton: React.FC<{ text: string }> = ({ text }): JSX.Element => (\n  <Skeleton>\n    <Typography sx={{ fontSize: '16px' }}>{text}</Typography>\n  </Skeleton>\n);\n\nexport default VitalsHistoryContainer;\n"]}