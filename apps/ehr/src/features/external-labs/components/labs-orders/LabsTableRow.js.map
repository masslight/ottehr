{"version":3,"file":"LabsTableRow.js","sourceRoot":"","sources":["LabsTableRow.tsx"],"names":[],"mappings":"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","sourcesContent":["import { otherColors } from '@ehrTheme/colors';\nimport DeleteIcon from '@mui/icons-material/DeleteOutlined';\nimport { Box, Button, TableCell, TableRow, Tooltip, Typography, useTheme } from '@mui/material';\nimport { ReactElement } from 'react';\nimport { formatDateForLabs, LabOrderListPageDTO, PSC_LOCALE } from 'utils';\nimport { LabsOrderStatusChip } from '../ExternalLabsStatusChip';\nimport { LabsTableColumn } from './LabsTable';\n\ninterface LabsTableRowProps {\n  columns: LabsTableColumn[];\n  labOrderData: LabOrderListPageDTO;\n  onDeleteOrder?: () => void;\n  allowDelete?: boolean;\n  onRowClick?: () => void;\n}\n\nexport const LabsTableRow = ({\n  labOrderData,\n  onDeleteOrder,\n  columns,\n  allowDelete = false,\n  onRowClick,\n}: LabsTableRowProps): ReactElement => {\n  const theme = useTheme();\n  const handleDeleteClick = (e: React.MouseEvent): void => {\n    e.stopPropagation();\n    if (onDeleteOrder) {\n      onDeleteOrder();\n    }\n  };\n\n  const renderCellContent = (column: LabsTableColumn): React.ReactNode => {\n    switch (column) {\n      case 'testType':\n        return (\n          <Box>\n            <Box sx={{ fontWeight: 'bold' }}>{labOrderData.testItem}</Box>\n            {(labOrderData.reflexResultsCount || 0) > 0 && (\n              <Box sx={{ fontSize: '0.75rem', color: 'text.secondary' }}>\n                + {labOrderData.reflexResultsCount} Reflex results\n              </Box>\n            )}\n          </Box>\n        );\n      case 'visit':\n        return <Box>{formatDateForLabs(labOrderData.visitDate, labOrderData.encounterTimezone)}</Box>;\n      case 'orderAdded':\n        return <Box>{formatDateForLabs(labOrderData.orderAddedDate, labOrderData.encounterTimezone)}</Box>;\n      case 'provider':\n        return labOrderData.orderingPhysician || '';\n      case 'dx': {\n        const firstDx = labOrderData.diagnosesDTO[0]?.display || '';\n        const firstDxCode = labOrderData.diagnosesDTO[0]?.code || '';\n        const firstDxText = `${firstDxCode} ${firstDx}`;\n        const fullDxText = labOrderData.diagnosesDTO.map((dx) => `${dx.code} ${dx.display}`).join('; ');\n        const dxCount = labOrderData.diagnosesDTO.length;\n        if (dxCount > 1) {\n          return (\n            <Tooltip title={fullDxText} arrow placement=\"top\">\n              <Typography variant=\"body2\">\n                {firstDxText}; <span style={{ color: theme.palette.text.secondary }}>+ {dxCount - 1} more</span>\n              </Typography>\n            </Tooltip>\n          );\n        }\n        return <Typography variant=\"body2\">{firstDxText}</Typography>;\n      }\n      case 'resultsReceived':\n        return <Box>{formatDateForLabs(labOrderData.lastResultReceivedDate, labOrderData.encounterTimezone)}</Box>;\n      case 'accessionNumber':\n        return labOrderData.accessionNumbers.join(', ');\n      case 'status':\n        return <LabsOrderStatusChip status={labOrderData.orderStatus} />;\n      case 'psc':\n        return labOrderData.isPSC ? PSC_LOCALE : '';\n      case 'actions':\n        if (allowDelete && labOrderData.orderStatus === 'pending') {\n          return (\n            <Button\n              onClick={handleDeleteClick}\n              sx={{\n                textTransform: 'none',\n                borderRadius: 28,\n                fontWeight: 'bold',\n              }}\n            >\n              <DeleteIcon sx={{ color: otherColors.priorityHighText }} />\n            </Button>\n          );\n        }\n        return null;\n      default:\n        return null;\n    }\n  };\n\n  return (\n    <TableRow\n      sx={{\n        '&:hover': { backgroundColor: '#f5f5f5' },\n        cursor: 'pointer',\n      }}\n      onClick={onRowClick}\n    >\n      {columns.map((column) => (\n        <TableCell key={column}>{renderCellContent(column)}</TableCell>\n      ))}\n    </TableRow>\n  );\n};\n"]}