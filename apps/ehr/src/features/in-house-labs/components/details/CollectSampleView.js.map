{"version":3,"file":"CollectSampleView.js","sourceRoot":"","sources":["CollectSampleView.tsx"],"names":[],"mappings":"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","sourcesContent":["import KeyboardArrowDownIcon from '@mui/icons-material/KeyboardArrowDown';\nimport KeyboardArrowUpIcon from '@mui/icons-material/KeyboardArrowUp';\nimport {\n  Box,\n  Button,\n  Collapse,\n  FormControl,\n  Grid,\n  IconButton,\n  MenuItem,\n  Paper,\n  Stack,\n  TextField,\n  Typography,\n  useTheme,\n} from '@mui/material';\nimport { DateTime } from 'luxon';\nimport { useEffect, useState } from 'react';\nimport { getOrCreateVisitLabel } from 'src/api/api';\nimport useEvolveUser from 'src/hooks/useEvolveUser';\nimport { getFormattedDiagnoses, InHouseOrderDetailPageItemDTO, MarkAsCollectedData, PageName } from 'utils';\nimport { useApiClients } from '../../../../hooks/useAppClients';\nimport { getSelectors } from '../../../../shared/store/getSelectors';\nimport { useAppointmentStore } from '../../../../telemed/state/appointment/appointment.store';\nimport { InHouseLabsDetailsCard } from './InHouseLabsDetailsCard';\n\ninterface CollectSampleViewProps {\n  testDetails: InHouseOrderDetailPageItemDTO;\n  onBack: () => void;\n  onSubmit: (data: MarkAsCollectedData) => void;\n}\n\nexport const CollectSampleView: React.FC<CollectSampleViewProps> = ({ testDetails, onBack, onSubmit }) => {\n  const [showSampleCollection, setShowSampleCollection] = useState(true);\n  const [sourceType, setSourceType] = useState('');\n  const [collectedById, setCollectedById] = useState('');\n\n  const initialDateTime = DateTime.now().setZone(testDetails.timezone);\n  const [date, setDate] = useState<DateTime>(initialDateTime);\n  const timeValue = date.toFormat('HH:mm');\n\n  const [showDetails, setShowDetails] = useState(false);\n  const [labelButtonLoading, setLabelButtonLoading] = useState(false);\n  const [error, setError] = useState('');\n\n  const theme = useTheme();\n  const { oystehrZambda } = useApiClients();\n  const { encounter } = getSelectors(useAppointmentStore, ['encounter']);\n\n  const currentUser = useEvolveUser();\n\n  // set default collected by to current user if no choice made\n  useEffect(() => {\n    const id = currentUser?.profileResource?.id;\n    if (!collectedById && id) {\n      setCollectedById(id);\n    }\n  }, [collectedById, currentUser]);\n\n  const providers =\n    testDetails.currentUserId !== testDetails.orderingPhysicianId\n      ? [\n          { name: testDetails.currentUserFullName, id: testDetails.currentUserId },\n          { name: testDetails.orderingPhysicianFullName, id: testDetails.orderingPhysicianId },\n        ]\n      : [{ name: testDetails.currentUserFullName, id: testDetails.currentUserId }];\n\n  const handleToggleSampleCollection = (): void => {\n    setShowSampleCollection(!showSampleCollection);\n  };\n\n  const handleMarkAsCollected = (): void => {\n    const isoDate = date.toISO();\n    if (!isoDate) {\n      setError('Issue parsing date');\n      return;\n    }\n    onSubmit({\n      specimen: {\n        source: sourceType,\n        collectedBy: { id: collectedById, name: providers.find((p) => p.id === collectedById)?.name || '' },\n        collectionDate: isoDate,\n      },\n    });\n  };\n\n  const handleReprintLabel = async (): Promise<void> => {\n    if (encounter.id && oystehrZambda) {\n      setLabelButtonLoading(true);\n      console.log('Fetching visit label for encounter ', encounter.id);\n      const labelPdfs = await getOrCreateVisitLabel(oystehrZambda, { encounterId: encounter.id });\n\n      if (labelPdfs.length !== 1) {\n        setError('Expected 1 label pdf, received unexpected number');\n        return;\n      }\n\n      const labelPdf = labelPdfs[0];\n      window.open(labelPdf.presignedURL, '_blank');\n      setLabelButtonLoading(false);\n    }\n  };\n\n  const handleDateChange = (e: React.ChangeEvent<HTMLInputElement>): void => {\n    const newValue = e.target.value;\n\n    if (newValue && newValue.length === 10) {\n      const newDate = DateTime.fromFormat(newValue, 'yyyy-MM-dd').set({\n        hour: date.hour,\n        minute: date.minute,\n      });\n\n      if (newDate.isValid) {\n        setDate(newDate);\n      }\n    }\n  };\n\n  const handleTimeChange = (e: React.ChangeEvent<HTMLTextAreaElement | HTMLInputElement>): void => {\n    const newValue = e.target.value;\n\n    if (newValue && newValue.length === 5) {\n      const [hour, minute] = newValue.split(':').map(Number);\n      const newDate = date.set({ hour, minute });\n\n      if (newDate.isValid) {\n        setDate(newDate);\n      }\n    }\n  };\n\n  return (\n    <Box sx={{ backgroundColor: '#FAFAFA', minHeight: '100vh' }}>\n      <Box sx={{ maxWidth: '800px', mx: 'auto' }}>\n        <Typography variant=\"h4\" sx={{ mb: 1, fontWeight: 600, fontSize: '2rem', color: 'primary.dark' }}>\n          Collect Sample\n        </Typography>\n\n        <Typography variant=\"body1\" sx={{ mb: 4, fontSize: '1rem', color: '#5F6368' }}>\n          {getFormattedDiagnoses(testDetails.diagnosesDTO)}\n        </Typography>\n\n        <Paper\n          sx={{\n            mb: 3,\n            borderRadius: '8px',\n            overflow: 'hidden',\n            border: '1px solid rgb(225, 225, 225)',\n            boxShadow: 'none',\n          }}\n        >\n          <Box sx={{ p: 3 }}>\n            <Box display=\"flex\" justifyContent=\"space-between\" alignItems=\"center\" mb={3}>\n              <Typography\n                variant=\"h5\"\n                sx={{\n                  fontSize: '1.5rem',\n                  fontWeight: 600,\n                  color: 'primary.dark',\n                }}\n              >\n                {testDetails.testItemName}\n              </Typography>\n              <Box\n                sx={{\n                  bgcolor: '#E8EAED',\n                  color: '#5F6368',\n                  fontWeight: 600,\n                  px: 2,\n                  py: 0.5,\n                  borderRadius: '4px',\n                  fontSize: '0.75rem',\n                  letterSpacing: '0.5px',\n                }}\n              >\n                {testDetails.status.toUpperCase()}\n              </Box>\n            </Box>\n\n            <Box sx={{ backgroundColor: '#F8F9FA', mx: -3, p: 3, margin: 0, padding: '4px 24px' }}>\n              <Box\n                sx={{\n                  display: 'flex',\n                  justifyContent: 'space-between',\n                  alignItems: 'center',\n                  cursor: 'pointer',\n                  mb: 2,\n                  margin: 0,\n                }}\n                onClick={handleToggleSampleCollection}\n              >\n                <Typography sx={{ fontSize: '1rem', fontWeight: 600 }}>Sample collection</Typography>\n                <IconButton size=\"small\">\n                  {showSampleCollection ? <KeyboardArrowUpIcon /> : <KeyboardArrowDownIcon />}\n                </IconButton>\n              </Box>\n\n              <Collapse in={showSampleCollection}>\n                <Box>\n                  <Grid container spacing={2} sx={{ padding: '4px 0 20px 0' }}>\n                    <Grid item xs={12}>\n                      <TextField\n                        fullWidth\n                        label=\"Source\"\n                        value={sourceType}\n                        onChange={(e) => setSourceType(e.target.value)}\n                        placeholder=\"Enter source\"\n                        variant=\"outlined\"\n                        sx={{\n                          '& .MuiInputLabel-root': {\n                            color: '#5F6368',\n                            fontSize: '0.875rem',\n                            lineHeight: '0.8rem',\n                            '&.Mui-focused': {\n                              color: '#5F6368',\n                            },\n                          },\n                          '& .MuiOutlinedInput-root': {\n                            backgroundColor: '#FFFFFF',\n                            '& fieldset': {\n                              borderColor: '#DADCE0',\n                            },\n                            '&:hover fieldset': {\n                              borderColor: '#DADCE0',\n                            },\n                            '&.Mui-focused fieldset': {\n                              borderColor: '#DADCE0',\n                              borderWidth: '1px',\n                            },\n                            '& .MuiInputBase-input': {\n                              py: 1.5,\n                              fontSize: '0.875rem',\n                            },\n                          },\n                          '& .MuiInputLabel-shrink': {\n                            backgroundColor: '#F8F9FA',\n                            px: 1,\n                            fontSize: '0.75rem',\n                          },\n                        }}\n                      />\n                    </Grid>\n\n                    <Grid item xs={12}>\n                      <TextField\n                        fullWidth\n                        select\n                        label=\"Collected by\"\n                        value={collectedById}\n                        onChange={(e) => setCollectedById(e.target.value)}\n                        variant=\"outlined\"\n                        SelectProps={{\n                          IconComponent: KeyboardArrowDownIcon,\n                        }}\n                        sx={{\n                          '& .MuiInputLabel-root': {\n                            color: '#5F6368',\n                            fontSize: '0.875rem',\n                            lineHeight: '1rem',\n                            '&.Mui-focused': {\n                              color: '#5F6368',\n                            },\n                          },\n                          '& .MuiOutlinedInput-root': {\n                            backgroundColor: '#FFFFFF',\n                            '& fieldset': {\n                              borderColor: '#DADCE0',\n                            },\n                            '&:hover fieldset': {\n                              borderColor: '#DADCE0',\n                            },\n                            '&.Mui-focused fieldset': {\n                              borderColor: '#DADCE0',\n                              borderWidth: '1px',\n                            },\n                            '& .MuiInputBase-input': {\n                              py: 1.5,\n                              fontSize: '0.875rem',\n                            },\n                          },\n                          '& .MuiInputLabel-shrink': {\n                            backgroundColor: '#F8F9FA',\n                            px: 1,\n                            fontSize: '0.75rem',\n                          },\n                        }}\n                      >\n                        {!collectedById && <MenuItem value=\"\">Select</MenuItem>}\n                        {providers.map((provider) => (\n                          <MenuItem key={provider.id} value={provider.id}>\n                            {provider.name}\n                          </MenuItem>\n                        ))}\n                      </TextField>\n                    </Grid>\n\n                    <Grid item xs={6}>\n                      <TextField\n                        fullWidth\n                        label=\"Collection date\"\n                        type=\"date\"\n                        value={date.toFormat('yyyy-MM-dd')}\n                        onChange={handleDateChange}\n                        variant=\"outlined\"\n                        InputLabelProps={{\n                          shrink: true,\n                        }}\n                        sx={{\n                          '& .MuiInputLabel-root': {\n                            color: '#5F6368',\n                            fontSize: '0.875rem',\n                            '&.Mui-focused': {\n                              color: '#5F6368',\n                            },\n                          },\n                          '& .MuiOutlinedInput-root': {\n                            backgroundColor: '#FFFFFF',\n                            '& fieldset': {\n                              borderColor: '#DADCE0',\n                            },\n                            '&:hover fieldset': {\n                              borderColor: '#DADCE0',\n                            },\n                            '&.Mui-focused fieldset': {\n                              borderColor: '#DADCE0',\n                              borderWidth: '1px',\n                            },\n                            '& .MuiInputBase-input': {\n                              py: 1.5,\n                              fontSize: '0.85rem',\n                            },\n                          },\n                          '& .MuiInputLabel-shrink': {\n                            backgroundColor: '#F8F9FA',\n                            px: 1,\n                            fontSize: '0.85rem',\n                          },\n                        }}\n                      />\n                    </Grid>\n\n                    <Grid item xs={6}>\n                      <FormControl fullWidth>\n                        <TextField\n                          label=\"Collection time\"\n                          type=\"time\"\n                          value={timeValue}\n                          onChange={(e) => handleTimeChange(e)}\n                          sx={{\n                            '& .MuiInputLabel-root': {\n                              color: '#5F6368',\n                              fontSize: '0.875rem',\n                              '&.Mui-focused': {\n                                color: '#5F6368',\n                              },\n                            },\n                            '& .MuiOutlinedInput-root': {\n                              backgroundColor: '#FFFFFF',\n                              '& fieldset': {\n                                borderColor: '#DADCE0',\n                              },\n                              '&:hover fieldset': {\n                                borderColor: '#DADCE0',\n                              },\n                              '&.Mui-focused fieldset': {\n                                borderColor: '#DADCE0',\n                                borderWidth: '1px',\n                              },\n                              '& .MuiInputBase-input': {\n                                py: 1.5,\n                                fontSize: '0.85rem',\n                              },\n                            },\n                            '& .MuiInputLabel-shrink': {\n                              backgroundColor: '#F8F9FA',\n                              px: 1,\n                              fontSize: '0.85rem',\n                            },\n                          }}\n                        />\n                      </FormControl>\n                    </Grid>\n                  </Grid>\n                </Box>\n              </Collapse>\n            </Box>\n\n            <InHouseLabsDetailsCard\n              testDetails={testDetails}\n              page={PageName.collectSample}\n              showDetails={showDetails}\n              setShowDetails={setShowDetails}\n            />\n\n            <Stack direction=\"row\" spacing={2} justifyContent=\"space-between\" mt={4}>\n              <Button\n                variant=\"outlined\"\n                onClick={handleReprintLabel}\n                disabled={labelButtonLoading}\n                sx={{\n                  borderRadius: '20px',\n                  px: 3,\n                  py: 0.75,\n                  textTransform: 'none',\n                  fontSize: '0.875rem',\n                  fontWeight: 500,\n                  borderColor: '#1A73E8',\n                  color: '#1A73E8',\n                  '&:hover': {\n                    borderColor: '#1A73E8',\n                    backgroundColor: 'rgba(26, 115, 232, 0.04)',\n                  },\n                }}\n              >\n                Re-Print Label\n              </Button>\n\n              <Button\n                variant=\"contained\"\n                onClick={handleMarkAsCollected}\n                disabled={!sourceType || !collectedById || !date.isValid}\n                sx={{\n                  borderRadius: '20px',\n                  px: 3,\n                  py: 0.75,\n                  textTransform: 'none',\n                  fontSize: '0.875rem',\n                  fontWeight: 500,\n                  backgroundColor: '#1A73E8',\n                  boxShadow: 'none',\n                  '&:hover': {\n                    backgroundColor: '#1557B0',\n                    boxShadow: '0 1px 2px 0 rgba(60,64,67,0.3), 0 1px 3px 1px rgba(60,64,67,0.15)',\n                  },\n                  '&:disabled': {\n                    backgroundColor: '#E8EAED',\n                    color: '#9AA0A6',\n                  },\n                }}\n              >\n                Mark as Collected\n              </Button>\n            </Stack>\n\n            {!!error && (\n              <Box mt={2}>\n                <Typography sx={{ color: theme.palette.error.main, fontSize: '0.875rem' }}>{error}</Typography>\n              </Box>\n            )}\n          </Box>\n        </Paper>\n\n        <Button\n          variant=\"outlined\"\n          onClick={onBack}\n          sx={{\n            borderRadius: '20px',\n            px: 3,\n            py: 0.75,\n            textTransform: 'none',\n            fontSize: '0.875rem',\n            fontWeight: 500,\n            borderColor: '#DADCE0',\n          }}\n        >\n          Back\n        </Button>\n      </Box>\n    </Box>\n  );\n};\n"]}