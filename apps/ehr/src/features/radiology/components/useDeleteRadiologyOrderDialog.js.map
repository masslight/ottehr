{"version":3,"file":"useDeleteRadiologyOrderDialog.js","sourceRoot":"","sources":["useDeleteRadiologyOrderDialog.tsx"],"names":[],"mappings":"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","sourcesContent":["import {\n  Box,\n  Button,\n  CircularProgress,\n  Dialog,\n  DialogActions,\n  DialogContent,\n  DialogContentText,\n  DialogTitle,\n} from '@mui/material';\nimport { ReactElement, useCallback, useState } from 'react';\n\ninterface UseDeleteRadiologyOrderDialogProps {\n  deleteOrder: ({ serviceRequestId }: { serviceRequestId: string }) => Promise<boolean>;\n}\n\ninterface UseDeleteRadiologyOrderDialogResult {\n  showDeleteRadiologyOrderDialog: ({\n    serviceRequestId,\n    studyType,\n  }: {\n    serviceRequestId: string;\n    studyType: string;\n  }) => void;\n  DeleteOrderDialog: ReactElement | null;\n}\n\nexport const useDeleteRadiologyOrderDialog = ({\n  deleteOrder,\n}: UseDeleteRadiologyOrderDialogProps): UseDeleteRadiologyOrderDialogResult => {\n  const [isDeleteDialogOpen, setIsDeleteDialogOpen] = useState(false);\n  const [isDeleting, setIsDeleting] = useState(false);\n  const [deleteError, setDeleteError] = useState<string | null>(null);\n  const [serviceRequestIdToDelete, setServiceRequestIdToDelete] = useState<string>('');\n  const [studyTypeToDelete, setStudyTypeToDelete] = useState<string>('');\n\n  const showDeleteRadiologyOrderDialog = useCallback(\n    ({ serviceRequestId, studyType }: { serviceRequestId: string; studyType: string }): void => {\n      setServiceRequestIdToDelete(serviceRequestId);\n      setStudyTypeToDelete(studyType);\n      setIsDeleteDialogOpen(true);\n      setDeleteError(null);\n    },\n    []\n  );\n\n  const closeDeleteDialog = useCallback((): void => {\n    setIsDeleteDialogOpen(false);\n    setDeleteError(null);\n  }, []);\n\n  const confirmDeleteOrder = useCallback(async (): Promise<void> => {\n    if (!serviceRequestIdToDelete) {\n      setDeleteError('No radiology order selected for deletion');\n      return;\n    }\n\n    setIsDeleting(true);\n\n    try {\n      const success = await deleteOrder({\n        serviceRequestId: serviceRequestIdToDelete,\n      });\n\n      if (success) {\n        setIsDeleteDialogOpen(false);\n      } else {\n        setDeleteError('Failed to delete radiology order');\n      }\n    } catch (err) {\n      console.error('Error confirming delete:', err);\n      const errorMessage = err instanceof Error ? err.message : 'An error occurred during deletion';\n      setDeleteError(errorMessage);\n    } finally {\n      setIsDeleting(false);\n    }\n  }, [serviceRequestIdToDelete, deleteOrder]);\n\n  const DeleteOrderDialog = isDeleteDialogOpen ? (\n    <Dialog open={isDeleteDialogOpen} onClose={closeDeleteDialog} maxWidth=\"sm\" fullWidth>\n      <form\n        style={{ padding: '10px' }}\n        onSubmit={(e) => {\n          e.preventDefault();\n          void confirmDeleteOrder();\n        }}\n      >\n        <DialogTitle variant=\"h5\" color=\"primary.dark\">\n          Delete Radiology Order\n        </DialogTitle>\n        <DialogContent>\n          <DialogContentText>\n            Are you sure you want to delete this order <strong>\"{studyTypeToDelete}\"</strong>?\n          </DialogContentText>\n          {deleteError && (\n            <Box sx={{ mt: 2, color: 'error.main' }}>\n              <DialogContentText color=\"error\">{deleteError}</DialogContentText>\n            </Box>\n          )}\n        </DialogContent>\n        <DialogActions sx={{ px: 3, pb: 2, width: '100%', display: 'flex', justifyContent: 'space-between' }}>\n          <Button\n            variant=\"outlined\"\n            onClick={closeDeleteDialog}\n            color=\"primary\"\n            disabled={isDeleting}\n            sx={{ borderRadius: '50px', textTransform: 'none' }}\n          >\n            Keep\n          </Button>\n          <Button\n            type=\"submit\"\n            variant=\"contained\"\n            color=\"error\"\n            disabled={isDeleting}\n            startIcon={isDeleting ? <CircularProgress size={16} color=\"inherit\" /> : null}\n            sx={{ borderRadius: '50px', textTransform: 'none' }}\n          >\n            {isDeleting ? 'Deleting Order...' : 'Delete Order'}\n          </Button>\n        </DialogActions>\n      </form>\n    </Dialog>\n  ) : null;\n\n  return {\n    showDeleteRadiologyOrderDialog: showDeleteRadiologyOrderDialog,\n    DeleteOrderDialog,\n  };\n};\n"]}