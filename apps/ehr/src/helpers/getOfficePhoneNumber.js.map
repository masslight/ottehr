{"version":3,"file":"getOfficePhoneNumber.js","sourceRoot":"","sources":["getOfficePhoneNumber.ts"],"names":[],"mappings":";;;AACA,+BAA+C;AAE/C,IAAM,wBAAwB,GAAG,uBAAuB,CAAC;AAElD,IAAM,oBAAoB,GAAG,UAAC,QAA8B;;IACjE,IAAI,aAAa,GAAG,QAAQ,CAAC;IAC7B,IAAI,aAAa,KAAK,SAAS,EAAE,CAAC;QAChC,IAAM,SAAS,GAAG,YAAY,CAAC,OAAO,CAAC,kBAAkB,CAAC,CAAC;QAC3D,IAAI,SAAS,EAAE,CAAC;YACd,IAAI,CAAC;gBACH,aAAa,GAAG,IAAI,CAAC,KAAK,CAAC,SAAS,CAAa,CAAC;YACpD,CAAC;YAAC,WAAM,CAAC;gBACP,OAAO,CAAC,KAAK,CAAC,iDAAiD,CAAC,CAAC;YACnE,CAAC;QACH,CAAC;IACH,CAAC;IAED,IAAI,CAAC;QACH,IAAI,CAAC,aAAa,IAAI,OAAO,aAAa,KAAK,QAAQ,IAAI,aAAa,CAAC,YAAY,KAAK,UAAU,EAAE,CAAC;YACrG,OAAO,wBAAwB,CAAC;QAClC,CAAC;QAED,IAAM,iBAAiB,GAAG,MAAA,MAAA,aAAa,aAAb,aAAa,uBAAb,aAAa,CAAE,OAAO,0CAAE,IAAI,CAAC,UAAC,WAAW,IAAK,OAAA,WAAW,CAAC,MAAM,KAAK,OAAO,EAA9B,CAA8B,CAAC,0CAAE,KAAK,CAAC;QAC/G,OAAO,MAAA,IAAA,8BAAsB,EAAC,iBAAiB,CAAC,mCAAI,wBAAwB,CAAC;IAC/E,CAAC;IAAC,OAAO,KAAK,EAAE,CAAC;QACf,OAAO,CAAC,KAAK,CAAC,sCAAsC,EAAE,KAAK,CAAC,CAAC;QAC7D,OAAO,wBAAwB,CAAC;IAClC,CAAC;AACH,CAAC,CAAC;AAxBW,QAAA,oBAAoB,wBAwB/B","sourcesContent":["import { Location } from 'fhir/r4b';\nimport { standardizePhoneNumber } from 'utils';\n\nconst PLACEHOLDER_PHONE_NUMBER = '[office phone number]';\n\nexport const getOfficePhoneNumber = (location: Location | undefined): string => {\n  let locationToUse = location;\n  if (locationToUse === undefined) {\n    const storedLoc = localStorage.getItem('selectedLocation');\n    if (storedLoc) {\n      try {\n        locationToUse = JSON.parse(storedLoc) as Location;\n      } catch {\n        console.error('location could not be parsed from local storage');\n      }\n    }\n  }\n\n  try {\n    if (!locationToUse || typeof locationToUse !== 'object' || locationToUse.resourceType !== 'Location') {\n      return PLACEHOLDER_PHONE_NUMBER;\n    }\n\n    const officePhoneNumber = locationToUse?.telecom?.find((telecomTemp) => telecomTemp.system === 'phone')?.value;\n    return standardizePhoneNumber(officePhoneNumber) ?? PLACEHOLDER_PHONE_NUMBER;\n  } catch (error) {\n    console.error('Error parsing location from storage:', error);\n    return PLACEHOLDER_PHONE_NUMBER;\n  }\n};\n"]}