{"version":3,"file":"useAppClients.js","sourceRoot":"","sources":["useAppClients.tsx"],"names":[],"mappings":";;AAgBA,sCA8BC;AA9CD,oCAAmC;AACnC,+BAAkC;AAClC,mCAAiC;AACjC,+CAA8C;AAO9C,IAAM,kBAAkB,GAAG,IAAA,gBAAM,GAAmB,CAAC,cAAM,OAAA,CAAC;IAC1D,OAAO,EAAE,SAAS;IAClB,aAAa,EAAE,SAAS;CACzB,CAAC,EAHyD,CAGzD,CAAC,CAAC;AAEJ,4EAA4E;AAC5E,SAAgB,aAAa;IAC3B,IAAM,KAAK,GAAG,IAAA,2BAAY,GAAE,CAAC;IACvB,IAAA,KAA6B,kBAAkB,CAAC,UAAC,KAAK,IAAK,OAAA,KAAK,EAAL,CAAK,CAAC,EAA/D,OAAO,aAAA,EAAE,aAAa,mBAAyC,CAAC;IACxE,IAAA,iBAAS,EAAC;QACR,IAAI,CAAC,OAAO,IAAI,OAAO,CAAC,MAAM,CAAC,WAAW,KAAK,KAAK,EAAE,CAAC;YACrD,kBAAkB,CAAC,QAAQ,CAAC;gBAC1B,OAAO,EAAE,IAAI,aAAO,CAAC;oBACnB,WAAW,EAAE,KAAK;oBAClB,UAAU,EAAE,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,qBAAqB;oBACjD,aAAa,EAAE,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,wBAAwB;oBACvD,SAAS,EAAE,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,mBAAmB;iBAC/C,CAAC;aACH,CAAC,CAAC;QACL,CAAC;IACH,CAAC,EAAE,CAAC,OAAO,EAAE,KAAK,CAAC,CAAC,CAAC;IAErB,IAAA,iBAAS,EAAC;QACR,IAAI,CAAC,aAAa,IAAI,aAAa,CAAC,MAAM,CAAC,WAAW,KAAK,KAAK,EAAE,CAAC;YACjE,kBAAkB,CAAC,QAAQ,CAAC;gBAC1B,aAAa,EAAE,IAAI,aAAO,CAAC;oBACzB,WAAW,EAAE,KAAK;oBAClB,UAAU,EAAE,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,qBAAqB;oBACjD,aAAa,EAAE,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,+BAA+B;oBAC9D,SAAS,EAAE,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,mBAAmB;iBAC/C,CAAC;aACH,CAAC,CAAC;QACL,CAAC;IACH,CAAC,EAAE,CAAC,aAAa,EAAE,KAAK,CAAC,CAAC,CAAC;IAE3B,OAAO,EAAE,OAAO,SAAA,EAAE,aAAa,eAAA,EAAE,CAAC;AACpC,CAAC","sourcesContent":["import Oystehr from '@oystehr/sdk';\nimport { useEffect } from 'react';\nimport { create } from 'zustand';\nimport { useAuthToken } from './useAuthToken';\n\ninterface ApiClientsState {\n  oystehr?: Oystehr;\n  oystehrZambda?: Oystehr;\n}\n\nconst useApiClientsStore = create<ApiClientsState>()(() => ({\n  oystehr: undefined,\n  oystehrZambda: undefined,\n}));\n\n// eslint-disable-next-line @typescript-eslint/explicit-function-return-type\nexport function useApiClients() {\n  const token = useAuthToken();\n  const { oystehr, oystehrZambda } = useApiClientsStore((state) => state);\n  useEffect(() => {\n    if (!oystehr || oystehr.config.accessToken !== token) {\n      useApiClientsStore.setState({\n        oystehr: new Oystehr({\n          accessToken: token,\n          fhirApiUrl: import.meta.env.VITE_APP_FHIR_API_URL,\n          projectApiUrl: import.meta.env.VITE_APP_PROJECT_API_URL,\n          projectId: import.meta.env.VITE_APP_PROJECT_ID,\n        }),\n      });\n    }\n  }, [oystehr, token]);\n\n  useEffect(() => {\n    if (!oystehrZambda || oystehrZambda.config.accessToken !== token) {\n      useApiClientsStore.setState({\n        oystehrZambda: new Oystehr({\n          accessToken: token,\n          fhirApiUrl: import.meta.env.VITE_APP_FHIR_API_URL,\n          projectApiUrl: import.meta.env.VITE_APP_PROJECT_API_ZAMBDA_URL,\n          projectId: import.meta.env.VITE_APP_PROJECT_ID,\n        }),\n      });\n    }\n  }, [oystehrZambda, token]);\n\n  return { oystehr, oystehrZambda };\n}\n"]}