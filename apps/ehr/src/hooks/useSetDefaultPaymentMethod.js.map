{"version":3,"file":"useSetDefaultPaymentMethod.js","sourceRoot":"","sources":["useSetDefaultPaymentMethod.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,2CAA0C;AAC1C,iDAAgD;AAOhD,4EAA4E;AACrE,IAAM,0BAA0B,GAAG,UAAC,oBAAwC;IACzE,IAAe,OAAO,GAAK,IAAA,6BAAa,GAAE,cAApB,CAAqB;IAEnD,OAAO,IAAA,yBAAW,EAAC;QACjB,UAAU,EAAE,iEAAO,EAAsE;gBAApE,eAAe,qBAAA,EAAE,SAAS,eAAA,EAAE,OAAO,aAAA;;gBACtD,IAAI,OAAO,IAAI,oBAAoB,EAAE,CAAC;oBACpC,sBAAO,OAAO,CAAC,MAAM;6BAClB,OAAO,CAAC;4BACP,EAAE,EAAE,6BAA6B;4BACjC,oBAAoB,sBAAA;4BACpB,eAAe,iBAAA;yBAChB,CAAC;6BACD,IAAI,CAAC;4BACJ,IAAI,SAAS,EAAE,CAAC;gCACd,SAAS,EAAE,CAAC;4BACd,CAAC;wBACH,CAAC,CAAC;6BACD,KAAK,CAAC,UAAC,KAAK;4BACX,IAAI,OAAO,EAAE,CAAC;gCACZ,OAAO,CAAC,KAAK,CAAC,CAAC;4BACjB,CAAC;wBACH,CAAC,CAAC,EAAC;gBACP,CAAC;gBAED,MAAM,IAAI,KAAK,CAAC,sDAAsD,CAAC,CAAC;;aACzE;QACD,KAAK,EAAE,CAAC;QACR,UAAU,EAAE,IAAI;KACjB,CAAC,CAAC;AACL,CAAC,CAAC;AA7BW,QAAA,0BAA0B,8BA6BrC","sourcesContent":["import { useMutation } from 'react-query';\nimport { useApiClients } from './useAppClients';\n\ninterface SetDefaultPaymentMethodParams {\n  paymentMethodId: string;\n  onSuccess?: () => void;\n  onError?: (error: unknown) => void;\n}\n// eslint-disable-next-line @typescript-eslint/explicit-function-return-type\nexport const useSetDefaultPaymentMethod = (beneficiaryPatientId: string | undefined) => {\n  const { oystehrZambda: oystehr } = useApiClients();\n\n  return useMutation({\n    mutationFn: async ({ paymentMethodId, onSuccess, onError }: SetDefaultPaymentMethodParams) => {\n      if (oystehr && beneficiaryPatientId) {\n        return oystehr.zambda\n          .execute({\n            id: 'payment-methods-set-default',\n            beneficiaryPatientId,\n            paymentMethodId,\n          })\n          .then(() => {\n            if (onSuccess) {\n              onSuccess();\n            }\n          })\n          .catch((error) => {\n            if (onError) {\n              onError(error);\n            }\n          });\n      }\n\n      throw new Error('api client not defined or patient id is not provided');\n    },\n    retry: 2,\n    retryDelay: 1000,\n  });\n};\n"]}