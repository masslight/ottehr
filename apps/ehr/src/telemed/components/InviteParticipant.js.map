{"version":3,"file":"InviteParticipant.js","sourceRoot":"","sources":["InviteParticipant.tsx"],"names":[],"mappings":"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","sourcesContent":["import { LoadingButton } from '@mui/lab';\nimport {\n  Button,\n  Dialog,\n  DialogActions,\n  DialogContent,\n  DialogTitle,\n  FormControl,\n  TextField,\n  Typography,\n} from '@mui/material';\nimport React, { ReactElement } from 'react';\nimport { useForm } from 'react-hook-form';\nimport { useParams } from 'react-router-dom';\nimport { inviteParticipant } from '../../api/api';\nimport { useApiClients } from '../../hooks/useAppClients';\n\ninterface InviteParticipantProps {\n  modalOpen: boolean;\n  onClose: () => void;\n}\n\ninterface FormInputs {\n  firstName: string;\n  lastName: string;\n  phone: string;\n  email: string;\n}\n\nconst buttonSx = {\n  fontWeight: 500,\n  textTransform: 'none',\n  borderRadius: 6,\n  mb: 2,\n  ml: 1,\n};\n\nconst InviteParticipant = ({ modalOpen, onClose }: InviteParticipantProps): ReactElement => {\n  const { register, handleSubmit, formState } = useForm<FormInputs>({\n    mode: 'onChange',\n  });\n  const [isLoading, setIsLoading] = React.useState(false);\n  const [error, setError] = React.useState<boolean>(false);\n  const { oystehrZambda } = useApiClients();\n  const { id: appointmentID } = useParams();\n\n  const onSubmit = async (data: FormInputs): Promise<void> => {\n    setIsLoading(true);\n    setError(false);\n    if (!oystehrZambda) throw new Error('Zambda client not found');\n    try {\n      const response = await inviteParticipant(oystehrZambda, {\n        appointmentId: appointmentID || '',\n        firstName: data.firstName,\n        lastName: data.lastName,\n        phoneNumber: data.phone,\n        emailAddress: data.email,\n      });\n      console.log('Participant invited successfully', response);\n      onClose();\n    } catch (error) {\n      setError(true);\n      console.error('Failed to invite participant', error);\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  return (\n    <Dialog\n      open={modalOpen}\n      onClose={onClose}\n      fullWidth\n      disableScrollLock\n      sx={{ '.MuiPaper-root': { padding: 1, width: '444px', maxWidth: 'initial' } }}\n    >\n      <form onSubmit={handleSubmit(onSubmit)}>\n        <DialogTitle variant=\"h4\" color=\"primary.dark\" sx={{ width: '100%' }}>\n          Invite Participant\n        </DialogTitle>\n        <DialogContent>\n          <FormControl fullWidth required sx={{ mt: 2 }}>\n            <TextField\n              {...register('firstName', { required: true })}\n              id=\"first-name\"\n              label=\"First Name\"\n              variant=\"outlined\"\n              fullWidth\n              error={!!formState.errors.firstName}\n              required\n            />\n          </FormControl>\n          <FormControl fullWidth required sx={{ mt: 2 }}>\n            <TextField\n              {...register('lastName', { required: true })}\n              id=\"last-name\"\n              label=\"Last Name\"\n              variant=\"outlined\"\n              fullWidth\n              error={!!formState.errors.lastName}\n              required\n            />\n          </FormControl>\n          <FormControl fullWidth required sx={{ mt: 2 }}>\n            <TextField\n              {...register('phone', { required: true })}\n              id=\"phone\"\n              label=\"Phone\"\n              variant=\"outlined\"\n              fullWidth\n              error={!!formState.errors.phone}\n              required\n            />\n          </FormControl>\n          <FormControl fullWidth required sx={{ mt: 2 }}>\n            <TextField\n              {...register('email', { required: true })}\n              id=\"email\"\n              label=\"Email\"\n              variant=\"outlined\"\n              fullWidth\n              error={!!formState.errors.email}\n              required\n            />\n          </FormControl>\n        </DialogContent>\n        <DialogActions sx={{ justifyContent: 'flex-start', marginLeft: 1 }}>\n          <LoadingButton\n            loading={isLoading}\n            type=\"submit\"\n            variant=\"contained\"\n            color=\"primary\"\n            size=\"medium\"\n            sx={buttonSx}\n            disabled={!formState.isValid}\n          >\n            Send Invite\n          </LoadingButton>\n          <Button onClick={onClose} variant=\"text\" color=\"primary\" size=\"medium\" sx={buttonSx}>\n            Cancel\n          </Button>\n        </DialogActions>\n        {error && (\n          <Typography color=\"error\" variant=\"body2\" my={1} mx={2}>\n            There was an error inviting this participant, please try again.\n          </Typography>\n        )}\n      </form>\n    </Dialog>\n  );\n};\n\nexport default InviteParticipant;\n"]}