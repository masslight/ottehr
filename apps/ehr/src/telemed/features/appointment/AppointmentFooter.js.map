{"version":3,"file":"AppointmentFooter.js","sourceRoot":"","sources":["AppointmentFooter.tsx"],"names":[],"mappings":"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","sourcesContent":["import { AppBar, Box, Typography, useTheme } from '@mui/material';\nimport { FC, useState } from 'react';\nimport { mapEncounterStatusHistory, TelemedAppointmentStatusEnum } from 'utils';\nimport { dataTestIds } from '../../../constants/data-test-ids';\nimport { getSelectors } from '../../../shared/store/getSelectors';\nimport InviteParticipant from '../../components/InviteParticipant';\nimport { useGetAppointmentAccessibility } from '../../hooks';\nimport { useAppointmentStore, useVideoCallStore } from '../../state';\nimport { getAppointmentWaitingTime } from '../../utils';\nimport { AppointmentFooterButton } from './AppointmentFooterButton';\n\nexport const AppointmentFooter: FC = () => {\n  const theme = useTheme();\n  const [isInviteParticipantOpen, setIsInviteParticipantOpen] = useState(false);\n\n  const appointmentAccessibility = useGetAppointmentAccessibility();\n  const { appointment, encounter } = getSelectors(useAppointmentStore, ['appointment', 'encounter']);\n  const { meetingData } = getSelectors(useVideoCallStore, ['meetingData']);\n\n  const statuses =\n    encounter.statusHistory && appointment?.status\n      ? mapEncounterStatusHistory(encounter.statusHistory, appointment.status)\n      : undefined;\n  const waitingTime = getAppointmentWaitingTime(statuses);\n\n  return (\n    <AppBar\n      position=\"sticky\"\n      sx={{\n        top: 'auto',\n        bottom: 0,\n        backgroundColor: theme.palette.primary.dark,\n        zIndex: (theme) => theme.zIndex.drawer + 1,\n      }}\n      data-testid={dataTestIds.telemedEhrFlow.appointmentChartFooter}\n    >\n      {isInviteParticipantOpen && (\n        <InviteParticipant modalOpen={isInviteParticipantOpen} onClose={() => setIsInviteParticipantOpen(false)} />\n      )}\n      {((appointmentAccessibility.status &&\n        [TelemedAppointmentStatusEnum.ready, TelemedAppointmentStatusEnum['pre-video']].includes(\n          appointmentAccessibility.status\n        )) ||\n        (appointmentAccessibility.isEncounterAssignedToCurrentPractitioner &&\n          appointmentAccessibility.status &&\n          appointmentAccessibility.status === TelemedAppointmentStatusEnum['on-video'] &&\n          !meetingData)) && (\n        <Box\n          sx={{\n            px: 3,\n            py: 1,\n            display: 'flex',\n            justifyContent: 'space-between',\n            alignItems: 'center',\n            color: 'white',\n            backgroundColor: theme.palette.primary.dark,\n          }}\n        >\n          <Box>\n            <Typography variant=\"h4\">Patient waiting</Typography>\n            <Typography variant=\"body2\">{waitingTime} mins</Typography>\n          </Box>\n          <AppointmentFooterButton />\n        </Box>\n      )}\n    </AppBar>\n  );\n};\n"]}