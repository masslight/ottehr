{"version":3,"file":"ProceduresNoteField.js","sourceRoot":"","sources":["ProceduresNoteField.tsx"],"names":[],"mappings":";;;AAAA,0CAAuF;AACvF,+BAAkC;AAClC,mDAAsD;AACtD,wEAAqE;AACrE,yEAAwE;AACxE,2CAA0F;AAC1F,2CAAwD;AAEjD,IAAM,mBAAmB,GAAO;;IAC7B,IAAA,SAAS,GAAK,IAAA,2BAAY,EAAC,2BAAmB,EAAE,CAAC,WAAW,CAAC,CAAC,UAArD,CAAsD;IAC/D,IAAuB,UAAU,GAAK,IAAA,sCAA8B,GAAE,sBAArC,CAAsC;IAE/E,IAAM,OAAO,GAAG,IAAA,yBAAO,EAAC;QACtB,aAAa,EAAE;YACb,IAAI,EAAE,CAAA,MAAA,SAAS,aAAT,SAAS,uBAAT,SAAS,CAAE,mBAAmB,0CAAE,IAAI,KAAI,EAAE;SACjD;KACF,CAAC,CAAC;IAEK,IAAA,OAAO,GAAK,OAAO,QAAZ,CAAa;IACtB,IAAA,KAAmD,IAAA,6BAAqB,EAAC,qBAAqB,CAAC,EAA7F,aAAa,mBAAA,EAAE,kBAAkB,wBAAA,EAAE,SAAS,eAAiD,CAAC;IAEtG,IAAI,UAAU,IAAI,CAAC,CAAA,MAAA,SAAS,aAAT,SAAS,uBAAT,SAAS,CAAE,mBAAmB,0CAAE,IAAI,CAAA,EAAE,CAAC;QACxD,OAAO,IAAI,CAAC;IACd,CAAC;IAED,OAAO,CAAC,UAAU,CAAC,CAAC,CAAC,CACnB,CAAC,4BAAU,CACT,IAAI,CAAC,MAAM,CACX,OAAO,CAAC,CAAC,OAAO,CAAC,CACjB,MAAM,CAAC,CAAC,UAAC,EAA8B;gBAA5B,aAA0B,EAAjB,KAAK,WAAA,EAAE,QAAQ,cAAA;YAAS,OAAA,CAC1C,CAAC,oBAAS,CACR,KAAK,CAAC,CAAC,KAAK,CAAC,CACb,QAAQ,CAAC,CAAC,UAAC,CAAC;oBACV,QAAQ,CAAC,CAAC,CAAC,CAAC;oBACZ,aAAa,CAAC,CAAC,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC;gBAChC,CAAC,CAAC,CACF,KAAK,CAAC,gBAAgB,CACtB,SAAS,CACT,SAAS,CACT,IAAI,CAAC,CAAC,CAAC,CAAC,CACR,WAAW,CAAC,CAAC,2BAAW,CAAC,cAAc,CAAC,sBAAsB,CAAC,CAC/D,QAAQ,CAAC,CAAC,kBAAkB,CAAC,CAC7B,UAAU,CAAC,CAAC;oBACV,YAAY,EAAE,SAAS,IAAI,CACzB,CAAC,cAAG,CAAC,EAAE,CAAC,CAAC,EAAE,OAAO,EAAE,MAAM,EAAE,UAAU,EAAE,QAAQ,EAAE,cAAc,EAAE,QAAQ,EAAE,CAAC,CAC3E;gBAAA,CAAC,2BAAgB,CAAC,IAAI,CAAC,MAAM,EAC/B;cAAA,EAAE,cAAG,CAAC,CACP;iBACF,CAAC,EACF,CACH;QArB2C,CAqB3C,CAAC,EACF,CACH,CAAC,CAAC,CAAC,CACF,CAAC,qBAAU,CAAC,CAAC,MAAA,SAAS,aAAT,SAAS,uBAAT,SAAS,CAAE,mBAAmB,0CAAE,IAAI,CAAC,EAAE,qBAAU,CAAC,CAChE,CAAC;AACJ,CAAC,CAAC;AA/CW,QAAA,mBAAmB,uBA+C9B;AAEK,IAAM,2BAA2B,GAAO;IAC7C,OAAO,CACL,CAAC,mBAAQ,CAAC,OAAO,CAAC,SAAS,CAAC,KAAK,CAAC,MAAM,CACtC;MAAA,CAAC,oBAAS,CAAC,SAAS,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,EAC/B;IAAA,EAAE,mBAAQ,CAAC,CACZ,CAAC;AACJ,CAAC,CAAC;AANW,QAAA,2BAA2B,+BAMtC","sourcesContent":["import { Box, CircularProgress, Skeleton, TextField, Typography } from '@mui/material';\nimport React, { FC } from 'react';\nimport { Controller, useForm } from 'react-hook-form';\nimport { dataTestIds } from '../../../../../constants/data-test-ids';\nimport { getSelectors } from '../../../../../shared/store/getSelectors';\nimport { useDebounceNotesField, useGetAppointmentAccessibility } from '../../../../hooks';\nimport { useAppointmentStore } from '../../../../state';\n\nexport const ProceduresNoteField: FC = () => {\n  const { chartData } = getSelectors(useAppointmentStore, ['chartData']);\n  const { isAppointmentReadOnly: isReadOnly } = useGetAppointmentAccessibility();\n\n  const methods = useForm({\n    defaultValues: {\n      text: chartData?.surgicalHistoryNote?.text || '',\n    },\n  });\n\n  const { control } = methods;\n  const { onValueChange, isChartDataLoading, isLoading } = useDebounceNotesField('surgicalHistoryNote');\n\n  if (isReadOnly && !chartData?.surgicalHistoryNote?.text) {\n    return null;\n  }\n\n  return !isReadOnly ? (\n    <Controller\n      name=\"text\"\n      control={control}\n      render={({ field: { value, onChange } }) => (\n        <TextField\n          value={value}\n          onChange={(e) => {\n            onChange(e);\n            onValueChange(e.target.value);\n          }}\n          label=\"Provider notes\"\n          fullWidth\n          multiline\n          rows={3}\n          data-testid={dataTestIds.telemedEhrFlow.hpiSurgicalHistoryNote}\n          disabled={isChartDataLoading}\n          InputProps={{\n            endAdornment: isLoading && (\n              <Box sx={{ display: 'flex', alignItems: 'center', justifyContent: 'center' }}>\n                <CircularProgress size=\"20px\" />\n              </Box>\n            ),\n          }}\n        />\n      )}\n    />\n  ) : (\n    <Typography>{chartData?.surgicalHistoryNote?.text}</Typography>\n  );\n};\n\nexport const ProceduresNoteFieldSkeleton: FC = () => {\n  return (\n    <Skeleton variant=\"rounded\" width=\"100%\">\n      <TextField multiline rows={3} />\n    </Skeleton>\n  );\n};\n"]}