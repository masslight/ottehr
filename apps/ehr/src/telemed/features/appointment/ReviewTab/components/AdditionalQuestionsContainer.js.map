{"version":3,"file":"AdditionalQuestionsContainer.js","sourceRoot":"","sources":["AdditionalQuestionsContainer.tsx"],"names":[],"mappings":"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","sourcesContent":["import { Box, Typography } from '@mui/material';\nimport { FC } from 'react';\nimport {\n  ASQ_FIELD,\n  ASQKeys,\n  asqLabels,\n  convertBooleanToString,\n  CustomOptionObservationHistoryObtainedFromDTO,\n  HISTORY_OBTAINED_FROM_FIELD,\n  HistorySourceKeys,\n  historySourceLabels,\n  NoteDTO,\n  ObservationBooleanFieldDTO,\n  ObservationHistoryObtainedFromDTO,\n  ObservationSeenInLastThreeYearsDTO,\n  recentVisitLabels,\n  SEEN_IN_LAST_THREE_YEARS_FIELD,\n  SEEN_IN_LAST_THREE_YEARS_LABEL,\n} from 'utils';\nimport { ADDITIONAL_QUESTIONS } from '../../../../../constants';\nimport { dataTestIds } from '../../../../../constants/data-test-ids';\nimport { getSelectors } from '../../../../../shared/store/getSelectors';\nimport { useAppointmentStore } from '../../../../state';\nimport { AssessmentTitle } from '../../AssessmentTab';\n\ntype AdditionalQuestionsContainerProps = {\n  notes?: NoteDTO[];\n};\n\nexport const AdditionalQuestionsContainer: FC<AdditionalQuestionsContainerProps> = ({ notes }) => {\n  const { chartData } = getSelectors(useAppointmentStore, ['chartData']);\n\n  const seenInLastThreeYearsObs = chartData?.observations?.find(\n    (obs) => obs.field === SEEN_IN_LAST_THREE_YEARS_FIELD\n  ) as ObservationSeenInLastThreeYearsDTO | undefined;\n\n  const historyObtainedFromObs = chartData?.observations?.find((obs) => obs.field === HISTORY_OBTAINED_FROM_FIELD) as\n    | ObservationHistoryObtainedFromDTO\n    | undefined;\n\n  const currentASQObs = chartData?.observations?.find((obs) => obs.field === ASQ_FIELD);\n\n  return (\n    <Box sx={{ display: 'flex', flexDirection: 'column', gap: 0.5, width: '100%' }}>\n      <Typography variant=\"h5\" color=\"primary.dark\">\n        Additional questions\n      </Typography>\n      {ADDITIONAL_QUESTIONS.map((question, index) => {\n        const value = convertBooleanToString(\n          (\n            chartData?.observations?.find(\n              (observation) => observation.field === question.field\n            ) as ObservationBooleanFieldDTO\n          )?.value\n        );\n\n        return value && value.length > 0 ? (\n          <Box data-testid={dataTestIds.telemedEhrFlow.reviewTabAdditionalQuestion(question.field)}>\n            <Typography key={index}>{`${question.label} - ${value}`}</Typography>\n          </Box>\n        ) : null;\n      })}\n\n      {seenInLastThreeYearsObs && (\n        <Typography>{`${SEEN_IN_LAST_THREE_YEARS_LABEL} - ${\n          recentVisitLabels[seenInLastThreeYearsObs.value]\n        }`}</Typography>\n      )}\n\n      {historyObtainedFromObs && (\n        <Typography>\n          {`History obtained from - ${historySourceLabels[historyObtainedFromObs.value]}`}\n          {historyObtainedFromObs.value === HistorySourceKeys.NotObtainedOther\n            ? `: ${(historyObtainedFromObs as CustomOptionObservationHistoryObtainedFromDTO).note}`\n            : ''}\n        </Typography>\n      )}\n\n      {currentASQObs && <Typography>{`ASQ - ${asqLabels[currentASQObs.value as ASQKeys]}`}</Typography>}\n\n      {notes && notes.length > 0 && (\n        <>\n          <AssessmentTitle>Screening notes</AssessmentTitle>\n          <Box sx={{ display: 'flex', flexDirection: 'column', gap: 0.5 }}>\n            {notes?.map((note) => <Typography key={note.resourceId}>{note.text}</Typography>)}\n          </Box>\n        </>\n      )}\n    </Box>\n  );\n};\n"]}