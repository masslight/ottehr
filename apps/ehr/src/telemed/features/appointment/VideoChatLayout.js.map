{"version":3,"file":"VideoChatLayout.js","sourceRoot":"","sources":["VideoChatLayout.tsx"],"names":[],"mappings":"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","sourcesContent":["import OpenInFullIcon from '@mui/icons-material/OpenInFull';\nimport PictureInPictureIcon from '@mui/icons-material/PictureInPicture';\nimport PushPinIcon from '@mui/icons-material/PushPin';\nimport { Box, Card, Container, Dialog, Divider, PaperProps, useTheme } from '@mui/material';\nimport { FC, useRef, useState } from 'react';\nimport Draggable from 'react-draggable';\nimport { dataTestIds } from '../../../constants/data-test-ids';\nimport { PropsWithChildren } from '../../../shared/types';\nimport { IconButtonContained } from '../../components';\nimport { AppointmentFooter } from './AppointmentFooter';\nimport { VideoProviderReminderPopover } from './VideoProviderReminderPopover';\n\ntype LayoutType = 'pip' | 'pinned' | 'fullscreen';\n\nconst PaperComponent: FC<PaperProps> = (props) => {\n  const nodeRef = useRef(null);\n\n  return (\n    <Draggable\n      nodeRef={nodeRef}\n      handle=\".handle\"\n      bounds=\"parent\"\n      defaultPosition={{ x: 350 / 2, y: 260 + 24 - window.innerHeight / 2 }}\n    >\n      <Card ref={nodeRef} {...props} sx={{ borderRadius: 2, height: '400px', width: '550px' }}></Card>\n    </Draggable>\n  );\n};\n\nexport const VideoChatLayout: FC<PropsWithChildren> = ({ children }) => {\n  const [type, setType] = useState<LayoutType>('pip');\n\n  if (type === 'pip') {\n    return (\n      <>\n        <Dialog\n          open={true}\n          hideBackdrop\n          disableEnforceFocus\n          disableScrollLock\n          style={{ pointerEvents: 'none' }}\n          PaperProps={{ style: { pointerEvents: 'auto' } }}\n          PaperComponent={PaperComponent}\n        >\n          <VideoRoomContainer type={type} setType={setType}>\n            {children}\n          </VideoRoomContainer>\n        </Dialog>\n        <Box sx={{ height: '424px' }} />\n      </>\n    );\n  }\n\n  if (type === 'fullscreen') {\n    return (\n      <Dialog fullScreen open={true}>\n        <Box\n          sx={{\n            display: 'flex',\n            flex: 1,\n          }}\n        >\n          <VideoRoomContainer type={type} setType={setType}>\n            {children}\n          </VideoRoomContainer>\n        </Box>\n        <Divider />\n        <AppointmentFooter />\n      </Dialog>\n    );\n  }\n\n  return (\n    <Container maxWidth=\"sm\" sx={{ mb: 3 }}>\n      <Card elevation={0} sx={{ borderRadius: 2 }}>\n        <VideoRoomContainer type={type} setType={setType}>\n          <Box sx={{ height: '400px' }}>{children}</Box>\n        </VideoRoomContainer>\n      </Card>\n    </Container>\n  );\n};\n\nconst VideoRoomContainer: FC<\n  PropsWithChildren<{\n    type: LayoutType;\n    setType: (type: LayoutType) => void;\n  }>\n> = (props) => {\n  const { type, setType, children } = props;\n\n  const theme = useTheme();\n\n  return (\n    <Box\n      sx={{\n        backgroundColor: theme.palette.primary.dark,\n        color: 'white',\n        display: 'flex',\n        flexDirection: 'column',\n        flex: 1,\n      }}\n      data-testid={dataTestIds.telemedEhrFlow.videoRoomContainer}\n    >\n      <Box\n        sx={{\n          py: 1,\n          px: 2,\n          display: 'flex',\n          justifyContent: 'space-between',\n          alignItems: 'center',\n          cursor: type === 'pip' ? 'move' : 'default',\n        }}\n        className=\"handle\"\n      >\n        <Box sx={{ display: 'flex', gap: 1 }}>\n          <IconButtonContained\n            size=\"small\"\n            variant={type === 'pip' ? 'disabled' : undefined}\n            onClick={() => setType('pip')}\n            sx={{\n              color: type === 'pip' ? theme.palette.primary.dark : theme.palette.primary.contrastText,\n            }}\n          >\n            <PictureInPictureIcon fontSize=\"small\" />\n          </IconButtonContained>\n          <IconButtonContained\n            size=\"small\"\n            variant={type === 'pinned' ? 'disabled' : undefined}\n            onClick={() => setType('pinned')}\n            sx={{\n              color: type === 'pinned' ? theme.palette.primary.dark : theme.palette.primary.contrastText,\n            }}\n          >\n            <PushPinIcon fontSize=\"small\" />\n          </IconButtonContained>\n          <IconButtonContained\n            size=\"small\"\n            variant={type === 'fullscreen' ? 'disabled' : undefined}\n            onClick={() => setType('fullscreen')}\n            sx={{\n              color: type === 'fullscreen' ? theme.palette.primary.dark : theme.palette.primary.contrastText,\n            }}\n          >\n            <OpenInFullIcon fontSize=\"small\" />\n          </IconButtonContained>\n        </Box>\n\n        <VideoProviderReminderPopover />\n      </Box>\n\n      <Box sx={{ backgroundColor: '#0A2143', height: '100%' }}>{children}</Box>\n    </Box>\n  );\n};\n"]}