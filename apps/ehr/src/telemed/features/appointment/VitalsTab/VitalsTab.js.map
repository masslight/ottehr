{"version":3,"file":"VitalsTab.js","sourceRoot":"","sources":["VitalsTab.tsx"],"names":[],"mappings":"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","sourcesContent":["import { Stack, Typography } from '@mui/material';\nimport { FC } from 'react';\nimport { useParams } from 'react-router-dom';\nimport { CSSLoader } from 'src/features/css-module/components/CSSLoader';\nimport VitalsNotesCard from 'src/features/css-module/components/patient-info/VitalsNotesCard';\nimport VitalsBloodPressureCard from 'src/features/css-module/components/vitals/blood-pressure/VitalsBloodPressureCard';\nimport VitalsHeartbeatCard from 'src/features/css-module/components/vitals/heartbeat/VitalsHeartbeatCard';\nimport VitalsHeightCard from 'src/features/css-module/components/vitals/heights/VitalsHeightCard';\nimport { useDeleteVitals } from 'src/features/css-module/components/vitals/hooks/useDeleteVitals';\nimport { useGetHistoricalVitals, useGetVitals } from 'src/features/css-module/components/vitals/hooks/useGetVitals';\nimport { useSaveVitals } from 'src/features/css-module/components/vitals/hooks/useSaveVitals';\nimport VitalsOxygenSatCard from 'src/features/css-module/components/vitals/oxygen-saturation/VitalsOxygenSatCard';\nimport VitalsRespirationRateCard from 'src/features/css-module/components/vitals/respiration-rate/VitalsRespirationRateCard';\nimport VitalsTemperaturesCard from 'src/features/css-module/components/vitals/temperature/VitalsTemperaturesCard';\nimport VitalsVisionCard from 'src/features/css-module/components/vitals/vision/VitalsVisionCard';\nimport VitalsWeightsCard from 'src/features/css-module/components/vitals/weights/VitalsWeightsCard';\nimport { useNavigationContext } from 'src/features/css-module/context/NavigationContext';\nimport { useAppointment } from 'src/features/css-module/hooks/useAppointment';\nimport { PageTitle } from 'src/telemed/components/PageTitle';\nimport { useAppointmentStore } from 'src/telemed/state';\nimport { getSelectors, VitalFieldNames, VitalsObservationDTO } from 'utils';\n\nexport const VitalsTab: FC = () => {\n  const { id: appointmentID } = useParams();\n  const {\n    resources: { appointment, encounter },\n    isLoading,\n    error,\n  } = useAppointment(appointmentID);\n\n  const { isChartDataLoading } = getSelectors(useAppointmentStore, ['isChartDataLoading']);\n\n  const { interactionMode } = useNavigationContext();\n\n  // todo: this duplicates the functionality of PatientVitals page and could be refactored to use a shared component\n  const saveVitals = useSaveVitals({\n    encounterId: encounter?.id ?? '',\n  });\n\n  const deleteVitals = useDeleteVitals({\n    encounterId: encounter?.id ?? '',\n  });\n\n  const handleSaveVital = async (vitalEntity: VitalsObservationDTO): Promise<void> => {\n    await saveVitals(vitalEntity);\n    await refetchEncounterVitals();\n  };\n\n  const handleDeleteVital = async (vitalEntity: VitalsObservationDTO): Promise<void> => {\n    await deleteVitals(vitalEntity);\n    await refetchEncounterVitals();\n  };\n\n  const {\n    data: encounterVitals,\n    isLoading: encounterVitalsLoading,\n    refetch: refetchEncounterVitals,\n  } = useGetVitals(encounter?.id);\n\n  const { data: historicalVitals } = useGetHistoricalVitals(encounter?.id);\n\n  if (isLoading || isChartDataLoading || encounterVitalsLoading) return <CSSLoader />;\n  if (error) return <Typography>Error: {error.message}</Typography>;\n  if (!appointment) return <Typography>No data available</Typography>;\n\n  return (\n    <Stack spacing={1}>\n      <PageTitle label=\"Vitals\" showIntakeNotesButton={interactionMode === 'intake'} />\n      <VitalsTemperaturesCard\n        handleSaveVital={handleSaveVital}\n        handleDeleteVital={handleDeleteVital}\n        currentObs={encounterVitals?.[VitalFieldNames.VitalTemperature] ?? []}\n        historicalObs={historicalVitals?.[VitalFieldNames.VitalTemperature] ?? []}\n      />\n      <VitalsHeartbeatCard\n        handleSaveVital={handleSaveVital}\n        handleDeleteVital={handleDeleteVital}\n        currentObs={encounterVitals?.[VitalFieldNames.VitalHeartbeat] ?? []}\n        historicalObs={historicalVitals?.[VitalFieldNames.VitalHeartbeat] ?? []}\n      />\n      <VitalsRespirationRateCard\n        handleSaveVital={handleSaveVital}\n        handleDeleteVital={handleDeleteVital}\n        currentObs={encounterVitals?.[VitalFieldNames.VitalRespirationRate] ?? []}\n        historicalObs={historicalVitals?.[VitalFieldNames.VitalRespirationRate] ?? []}\n      />\n      <VitalsBloodPressureCard\n        handleSaveVital={handleSaveVital}\n        handleDeleteVital={handleDeleteVital}\n        currentObs={encounterVitals?.[VitalFieldNames.VitalBloodPressure] ?? []}\n        historicalObs={historicalVitals?.[VitalFieldNames.VitalBloodPressure] ?? []}\n      />\n      <VitalsOxygenSatCard\n        handleSaveVital={handleSaveVital}\n        handleDeleteVital={handleDeleteVital}\n        currentObs={encounterVitals?.[VitalFieldNames.VitalOxygenSaturation] ?? []}\n        historicalObs={historicalVitals?.[VitalFieldNames.VitalOxygenSaturation] ?? []}\n      />\n      <VitalsWeightsCard\n        handleSaveVital={handleSaveVital}\n        handleDeleteVital={handleDeleteVital}\n        currentObs={encounterVitals?.[VitalFieldNames.VitalWeight] ?? []}\n        historicalObs={historicalVitals?.[VitalFieldNames.VitalWeight] ?? []}\n      />\n      <VitalsHeightCard\n        handleSaveVital={handleSaveVital}\n        handleDeleteVital={handleDeleteVital}\n        currentObs={encounterVitals?.[VitalFieldNames.VitalHeight] ?? []}\n        historicalObs={historicalVitals?.[VitalFieldNames.VitalHeight] ?? []}\n      />\n      <VitalsVisionCard\n        handleSaveVital={handleSaveVital}\n        handleDeleteVital={handleDeleteVital}\n        currentObs={encounterVitals?.[VitalFieldNames.VitalVision] ?? []}\n        historicalObs={historicalVitals?.[VitalFieldNames.VitalVision] ?? []}\n      />\n      <VitalsNotesCard />\n      {/* Alert modal needed here??*/}\n    </Stack>\n  );\n};\n"]}