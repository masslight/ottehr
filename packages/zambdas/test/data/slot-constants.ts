import { DateTime } from 'luxon';

export const addDateToSlotTimes = (date: DateTime, slotTimes: string[]): string[] => {
  const dateString = date.toFormat('yyyy-MM-dd');
  return slotTimes.map((slot) => dateString + slot);
};

export const addDateToSlotMap = (date: DateTime, slots: { [slot: string]: number }): { [slot: string]: number } => {
  const dateString = date.toFormat('yyyy-MM-dd');
  const updatedSlots: { [slot: string]: number } = {};
  for (const [slot, count] of Object.entries(slots)) {
    updatedSlots[dateString + slot] = count;
  }
  return updatedSlots;
};

export const slotTimesAllDay10to6Cap4 = [
  'T10:00:00.000-04:00',
  'T10:15:00.000-04:00',
  'T10:30:00.000-04:00',
  'T10:45:00.000-04:00',
  'T11:00:00.000-04:00',
  'T11:15:00.000-04:00',
  'T11:30:00.000-04:00',
  'T11:45:00.000-04:00',
  'T12:00:00.000-04:00',
  'T12:15:00.000-04:00',
  'T12:30:00.000-04:00',
  'T12:45:00.000-04:00',
  'T13:00:00.000-04:00',
  'T13:15:00.000-04:00',
  'T13:30:00.000-04:00',
  'T13:45:00.000-04:00',
  'T14:00:00.000-04:00',
  'T14:15:00.000-04:00',
  'T14:30:00.000-04:00',
  'T14:45:00.000-04:00',
  'T15:00:00.000-04:00',
  'T15:15:00.000-04:00',
  'T15:30:00.000-04:00',
  'T15:45:00.000-04:00',
  'T16:00:00.000-04:00',
  'T16:15:00.000-04:00',
  'T16:30:00.000-04:00',
  'T16:45:00.000-04:00',
  'T17:00:00.000-04:00',
  'T17:15:00.000-04:00',
  'T17:30:00.000-04:00',
  'T17:45:00.000-04:00',
];

export const slotTimesAllDay10to6Cap3 = [
  'T10:00:00.000-04:00',
  'T10:15:00.000-04:00',
  'T10:45:00.000-04:00',
  'T11:00:00.000-04:00',
  'T11:15:00.000-04:00',
  'T11:45:00.000-04:00',
  'T12:00:00.000-04:00',
  'T12:15:00.000-04:00',
  'T12:45:00.000-04:00',
  'T13:00:00.000-04:00',
  'T13:15:00.000-04:00',
  'T13:45:00.000-04:00',
  'T14:00:00.000-04:00',
  'T14:15:00.000-04:00',
  'T14:45:00.000-04:00',
  'T15:00:00.000-04:00',
  'T15:15:00.000-04:00',
  'T15:45:00.000-04:00',
  'T16:00:00.000-04:00',
  'T16:15:00.000-04:00',
  'T16:45:00.000-04:00',
  'T17:00:00.000-04:00',
  'T17:15:00.000-04:00',
  'T17:45:00.000-04:00',
];

// // arrays of slot strings formatted for the front end (no dups)
// slots should start showing 40 minutes from now
// if now is 2, slots will start at 2:45
// if now is 1:47, slots will start at 2:30

// capacity 4 or more, now 2pm, opens @10am, closes @6pm, no buffers
export const slotsTimesGroupA = [
  'T14:45:00.000-04:00',
  'T15:00:00.000-04:00',
  'T15:15:00.000-04:00',
  'T15:30:00.000-04:00',
  'T15:45:00.000-04:00',
  'T16:00:00.000-04:00',
  'T16:15:00.000-04:00',
  'T16:30:00.000-04:00',
  'T16:45:00.000-04:00',
  'T17:00:00.000-04:00',
  'T17:15:00.000-04:00',
  'T17:30:00.000-04:00',
  'T17:45:00.000-04:00',
];

// now 2pm, close 6pm, no buffers, capacity 3
export const slotsTimesGroupB = [
  'T14:45:00.000-04:00',
  'T15:00:00.000-04:00',
  'T15:15:00.000-04:00',
  'T15:45:00.000-04:00',
  'T16:00:00.000-04:00',
  'T16:15:00.000-04:00',
  'T16:45:00.000-04:00',
  'T17:00:00.000-04:00',
  'T17:15:00.000-04:00',
  'T17:45:00.000-04:00',
];

// opening buffer 15, capacity 3, open @13, close @17
export const slotsTimesGroupC = [
  'T13:15:00.000-04:00',
  'T13:30:00.000-04:00',
  'T13:45:00.000-04:00',
  'T14:00:00.000-04:00',
  'T14:15:00.000-04:00',
  'T14:45:00.000-04:00',
  'T15:00:00.000-04:00',
  'T15:15:00.000-04:00',
  'T15:45:00.000-04:00',
  'T16:00:00.000-04:00',
  'T16:15:00.000-04:00',
  'T16:45:00.000-04:00',
];

// opening buffer 30 & capacity 3, open @13, close @17
export const slotsTimesGroupD = [
  'T13:30:00.000-04:00',
  'T13:45:00.000-04:00',
  'T14:00:00.000-04:00',
  'T14:15:00.000-04:00',
  'T14:45:00.000-04:00',
  'T15:00:00.000-04:00',
  'T15:15:00.000-04:00',
  'T15:45:00.000-04:00',
  'T16:00:00.000-04:00',
  'T16:15:00.000-04:00',
  'T16:45:00.000-04:00',
];

// closing buffer 30 & capacity 3, open @13, close @17
export const slotsTimesGroupE = [
  'T13:00:00.000-04:00',
  'T13:15:00.000-04:00', // 2024-04-27T13:15:00.000-04:00
  'T13:45:00.000-04:00',
  'T14:00:00.000-04:00',
  'T14:15:00.000-04:00',
  'T14:45:00.000-04:00',
  'T15:00:00.000-04:00',
  'T15:15:00.000-04:00',
  'T15:45:00.000-04:00',
  'T16:00:00.000-04:00',
  'T16:15:00.000-04:00',
];

// closing buffer 30 & capacity 4, 2 appointments (13:15 and 13:45)
export const slotsTimesGroupF = [
  'T13:00:00.000-04:00', // (is this the right distribution??)
  'T13:30:00.000-04:00',
  'T14:00:00.000-04:00',
  'T14:15:00.000-04:00',
  'T14:30:00.000-04:00',
  'T14:45:00.000-04:00',
  'T15:00:00.000-04:00',
  'T15:15:00.000-04:00',
  'T15:30:00.000-04:00',
  'T15:45:00.000-04:00',
  'T16:00:00.000-04:00',
  'T16:15:00.000-04:00',
];

// capacity 3 with 1 busy-tentative slot in each of hours 13 and 14
export const slotsTimesGroupG = [
  'T13:15:00.000-04:00',
  'T13:45:00.000-04:00',
  'T14:15:00.000-04:00',
  'T14:45:00.000-04:00',
  'T15:00:00.000-04:00',
  'T15:15:00.000-04:00',
  'T15:45:00.000-04:00',
  'T16:00:00.000-04:00',
  'T16:15:00.000-04:00',
];

// capacity 3 with busy-tentative slots at 13:00, 13:15 and 14
export const slotsTimesGroupH = [
  'T13:45:00.000-04:00',
  'T14:15:00.000-04:00',
  'T14:45:00.000-04:00',
  'T15:00:00.000-04:00',
  'T15:15:00.000-04:00',
  'T15:45:00.000-04:00',
  'T16:00:00.000-04:00',
  'T16:15:00.000-04:00',
];

// capacity 3 with busy-tentative slots at 13:00, 13:15 and 14, appointments at 13:45, 15:15
export const slotsTimesGroupI = [
  'T14:15:00.000-04:00',
  'T14:45:00.000-04:00',
  'T15:00:00.000-04:00',
  'T15:45:00.000-04:00',
  'T16:00:00.000-04:00',
  'T16:15:00.000-04:00',
];

// capacity 3 with 1 appointment at 15:15
export const slotsTimesGroupJ = [
  'T13:00:00.000-04:00',
  'T13:15:00.000-04:00', // 2024-04-27T13:15:00.000-04:00
  'T13:45:00.000-04:00',
  'T14:00:00.000-04:00',
  'T14:15:00.000-04:00',
  'T14:45:00.000-04:00',
  'T15:00:00.000-04:00',
  'T15:45:00.000-04:00',
  'T16:00:00.000-04:00',
  'T16:15:00.000-04:00',
];

// capacity 3 with 1 appointment at 15:30 (hard case because there shouldn't be any appointment at that time)
export const slotsTimesGroupK = [
  'T13:00:00.000-04:00',
  'T13:15:00.000-04:00', // 2024-04-27T13:15:00.000-04:00
  'T13:45:00.000-04:00',
  'T14:00:00.000-04:00',
  'T14:15:00.000-04:00',
  'T14:45:00.000-04:00',
  'T15:00:00.000-04:00',
  'T16:00:00.000-04:00',
  'T16:15:00.000-04:00',
];

// capacity 3 with 15 minute opening and closing buffers, no schedule
export const slotsTimesGroupL = [
  'T13:15:00.000-04:00',
  'T13:30:00.000-04:00',
  'T13:45:00.000-04:00',
  'T14:00:00.000-04:00',
  'T14:15:00.000-04:00',
  'T14:45:00.000-04:00',
  'T15:00:00.000-04:00',
  'T15:15:00.000-04:00',
  'T15:45:00.000-04:00',
  'T16:00:00.000-04:00',
  'T16:15:00.000-04:00',
  'T16:30:00.000-04:00',
];

// now 8am, office opens at 10, closes at 3, no buffers, capacity 2
export const slotsTimesGroupM = [
  'T10:00:00.000-04:00',
  'T10:30:00.000-04:00',
  'T11:00:00.000-04:00',
  'T11:30:00.000-04:00',
  'T12:00:00.000-04:00',
  'T12:30:00.000-04:00',
  'T13:00:00.000-04:00',
  'T13:30:00.000-04:00',
  'T14:00:00.000-04:00',
  'T14:30:00.000-04:00',
];

// open @1pm, close @5pm, closing buffer 30 & capacity 3, 2 appointments (13:15, 13:45)
export const slotsTimesGroupN = [
  'T13:00:00.000-04:00',
  'T14:00:00.000-04:00',
  'T14:15:00.000-04:00',
  'T14:45:00.000-04:00',
  'T15:00:00.000-04:00',
  'T15:15:00.000-04:00',
  'T15:45:00.000-04:00',
  'T16:00:00.000-04:00',
  'T16:15:00.000-04:00',
];

// capacity 4 with 15 minute closing buffer
export const slotsTimesGroupO = [
  'T13:00:00.000-04:00',
  'T13:15:00.000-04:00',
  'T13:30:00.000-04:00',
  'T13:45:00.000-04:00',
  'T14:00:00.000-04:00',
  'T14:15:00.000-04:00',
  'T14:30:00.000-04:00',
  'T14:45:00.000-04:00',
  'T15:00:00.000-04:00',
  'T15:15:00.000-04:00',
  'T15:30:00.000-04:00',
  'T15:45:00.000-04:00',
  'T16:00:00.000-04:00',
  'T16:15:00.000-04:00',
  'T16:30:00.000-04:00',
];

// open @8pm close @12am, capacity 3 with 60 minute closing buffer
export const slotsTimesGroupP = [
  'T20:00:00.000-04:00',
  'T20:15:00.000-04:00',
  'T20:45:00.000-04:00',
  'T21:00:00.000-04:00',
  'T21:15:00.000-04:00',
  'T21:45:00.000-04:00',
  'T22:00:00.000-04:00',
  'T22:15:00.000-04:00',
  'T22:45:00.000-04:00',
];

// capacity 1, now 8am, open @12am close @12am, no buffers
// slots are shown 45 from the current time so the first slot is 8:45
// there is a 40 minute buffer to hide slots from current time
export const slotsTimesGroupQ = [
  'T09:00:00.000-04:00',
  'T10:00:00.000-04:00',
  'T11:00:00.000-04:00',
  'T12:00:00.000-04:00',
  'T13:00:00.000-04:00',
  'T14:00:00.000-04:00',
  'T15:00:00.000-04:00',
  'T16:00:00.000-04:00',
  'T17:00:00.000-04:00',
  'T18:00:00.000-04:00',
  'T19:00:00.000-04:00',
  'T20:00:00.000-04:00',
  'T21:00:00.000-04:00',
  'T22:00:00.000-04:00',
  'T23:00:00.000-04:00',
];

// open @10am close @5pm, capacity 4, 30 min open + close buffers, current time is 8am
// 11 - 12 & 13-14 gets 2 slots only
export const slotsTimesGroupR = [
  'T10:30:00.000-04:00',
  'T10:45:00.000-04:00',
  'T11:00:00.000-04:00',
  'T11:30:00.000-04:00',
  'T12:00:00.000-04:00',
  'T12:15:00.000-04:00',
  'T12:30:00.000-04:00',
  'T12:45:00.000-04:00',
  'T13:00:00.000-04:00',
  'T13:30:00.000-04:00',
  'T14:00:00.000-04:00',
  'T14:15:00.000-04:00',
  'T14:30:00.000-04:00',
  'T14:45:00.000-04:00',
  'T15:00:00.000-04:00',
  'T15:15:00.000-04:00',
  'T15:30:00.000-04:00',
  'T15:45:00.000-04:00',
  'T16:00:00.000-04:00',
  'T16:15:00.000-04:00',
];

// open @1pm close @5pm, capacity 4, specific capacity of 1 during hour 13, 15 minute opening buffer
export const slotsTimesGroupS = [
  'T13:15:00.000-04:00',
  'T14:00:00.000-04:00',
  'T14:15:00.000-04:00',
  'T14:30:00.000-04:00',
  'T14:45:00.000-04:00',
  'T15:00:00.000-04:00',
  'T15:15:00.000-04:00',
  'T15:30:00.000-04:00',
  'T15:45:00.000-04:00',
  'T16:00:00.000-04:00',
  'T16:15:00.000-04:00',
  'T16:30:00.000-04:00',
  'T16:45:00.000-04:00',
];

// open @1pm close @5pm, capacity 1, no buffers, 1 appointment @15
export const slotsTimesGroupT = ['T13:00:00.000-04:00', 'T14:00:00.000-04:00', 'T16:00:00.000-04:00'];

// open @2pm close @5pm, capacity 3, 15 miunte opening + closing buffer
export const slotsTimesGroupU = [
  'T14:15:00.000-04:00',
  'T15:00:00.000-04:00',
  'T15:15:00.000-04:00',
  'T15:45:00.000-04:00',
  'T16:00:00.000-04:00',
  'T16:15:00.000-04:00',
  'T16:45:00.000-04:00',
  'T17:00:00.000-04:00',
  'T17:15:00.000-04:00',
  'T17:30:00.000-04:00',
];

// open @2pm close @5pm, capacity 1, 15 miunte opening + closing buffer
export const slotsTimesGroupV = ['T17:00:00.000-04:00'];
export const slotsTimesGroupV2 = [
  'T14:15:00.000-04:00',
  'T15:00:00.000-04:00',
  'T16:00:00.000-04:00',
  'T17:00:00.000-04:00',
];

export const slotsTimesGroupV3 = [
  'T14:00:00.000-04:00',
  'T15:00:00.000-04:00',
  'T16:00:00.000-04:00',
  'T17:00:00.000-04:00',
];

// open @2pm close @5pm, capacity 2, 15 miunte opening + closing buffer
export const slotsTimesGroupW = ['T17:00:00.000-04:00', 'T17:30:00.000-04:00'];

export const slotsTimesForOpeningBufferBase = [
  'T14:30:00.000-04:00',
  'T14:45:00.000-04:00',
  'T15:00:00.000-04:00',
  'T15:15:00.000-04:00',
  'T15:30:00.000-04:00',
  'T15:45:00.000-04:00',
];
export const slotsTimesForOpeningBuffer15 = ['T13:15:00.000-04:00'];
export const slotsTimesForOpeningBuffer30 = ['T13:30:00.000-04:00'];
export const slotsTimesForOpeningBuffer45 = ['T13:45:00.000-04:00'];
export const slotsTimesForOpeningBuffer60 = ['T14:00:00.000-04:00', 'T14:15:00.000-04:00'];

export const slotsTimesForClosingBufferBase = [
  'T13:00:00.000-04:00',
  'T13:15:00.000-04:00',
  'T13:30:00.000-04:00',
  'T13:45:00.000-04:00',
  'T14:00:00.000-04:00',
  'T14:15:00.000-04:00',
];

export const slotsTimesForClosingBuffer60 = ['T14:30:00.000-04:00', 'T14:45:00.000-04:00'];
export const slotsTimesForClosingBuffer45 = ['T15:00:00.000-04:00'];
export const slotsTimesForClosingBuffer30 = ['T15:15:00.000-04:00'];
export const slotsTimesForClosingBuffer15 = ['T15:30:00.000-04:00'];

// opening buffer 15
export const slotsTimesForOpeningBufferWith1Cap = ['T13:15:00.000-04:00', 'T14:00:00.000-04:00', 'T15:00:00.000-04:00'];

// closing buffer 15
export const slotsTimesForClosingBufferWith3Cap = [
  'T13:00:00.000-04:00',
  'T13:15:00.000-04:00',
  'T13:45:00.000-04:00',
  'T14:00:00.000-04:00',
  'T14:15:00.000-04:00',
  'T14:45:00.000-04:00',
  'T15:00:00.000-04:00',
  'T15:15:00.000-04:00',
];

// closing buffer 30
export const slotsTimesForClosingBufferWith2Cap = [
  'T13:00:00.000-04:00',
  'T13:30:00.000-04:00',
  'T14:00:00.000-04:00',
  'T14:30:00.000-04:00',
  'T15:00:00.000-04:00',
  'T15:15:00.000-04:00',
];

// capacity 15
export const slotMapA = {
  'T10:00:00.000-04:00': 3,
  'T10:15:00.000-04:00': 4,
  'T10:30:00.000-04:00': 4,
  'T10:45:00.000-04:00': 4,
  'T11:00:00.000-04:00': 3,
  'T11:15:00.000-04:00': 4,
  'T11:30:00.000-04:00': 4,
  'T11:45:00.000-04:00': 4,
  'T12:00:00.000-04:00': 3,
  'T12:15:00.000-04:00': 4,
  'T12:30:00.000-04:00': 4,
  'T12:45:00.000-04:00': 4,
  'T13:00:00.000-04:00': 3,
  'T13:15:00.000-04:00': 4,
  'T13:30:00.000-04:00': 4,
  'T13:45:00.000-04:00': 4,
  'T14:00:00.000-04:00': 3,
  'T14:15:00.000-04:00': 4,
  'T14:30:00.000-04:00': 4,
  'T14:45:00.000-04:00': 4,
};

export const overrideSlotMapA = {
  'T13:15:00.000-04:00': 4,
  'T13:30:00.000-04:00': 4,
};

export const slotMapB = {
  'T20:00:00.000-04:00': 3,
  'T20:15:00.000-04:00': 4,
  'T20:30:00.000-04:00': 4,
  'T20:45:00.000-04:00': 4,
  'T21:00:00.000-04:00': 3,
  'T21:15:00.000-04:00': 4,
  'T21:30:00.000-04:00': 4,
  'T21:45:00.000-04:00': 4,
  'T22:00:00.000-04:00': 3,
  'T22:15:00.000-04:00': 4,
  'T22:30:00.000-04:00': 4,
  'T22:45:00.000-04:00': 4,
  'T23:00:00.000-04:00': 3,
  'T23:15:00.000-04:00': 4,
  'T23:30:00.000-04:00': 4,
  'T23:45:00.000-04:00': 4,
};

export const overrideSlotMapGroupC = [
  'T18:15:00.000-04:00',
  'T18:30:00.000-04:00',
  'T18:45:00.000-04:00',
  'T19:00:00.000-04:00',
  'T19:15:00.000-04:00',
  'T19:45:00.000-04:00',
  'T20:00:00.000-04:00',
  'T20:15:00.000-04:00',
  'T20:45:00.000-04:00',
  'T21:00:00.000-04:00',
  'T21:15:00.000-04:00',
  'T21:45:00.000-04:00',
];

export const slotMapZ = [
  'T20:00:00.000-04:00',
  'T20:15:00.000-04:00',
  'T20:45:00.000-04:00',
  'T21:00:00.000-04:00',
  'T21:15:00.000-04:00',
  'T21:45:00.000-04:00',
  'T22:00:00.000-04:00',
  'T22:15:00.000-04:00',
  'T22:45:00.000-04:00',
  'T23:00:00.000-04:00',
  'T23:15:00.000-04:00',
  'T23:45:00.000-04:00',
];

export const slotsTimesGroupZ = [
  'T10:45:00.000-04:00',
  'T11:00:00.000-04:00',
  'T11:15:00.000-04:00',
  'T11:30:00.000-04:00',
  'T11:45:00.000-04:00',
  'T12:00:00.000-04:00',
  'T12:15:00.000-04:00',
  'T12:30:00.000-04:00',
  'T12:45:00.000-04:00',
];

export const slotsTimesGroupA1 = [
  'T10:45:00.000-04:00',
  'T11:00:00.000-04:00',
  'T11:15:00.000-04:00',
  'T11:45:00.000-04:00',
  'T12:00:00.000-04:00',
  'T12:15:00.000-04:00',
  'T12:45:00.000-04:00',
];

export const slotsTimesGroupA2 = [
  'T11:00:00.000-04:00',
  'T11:30:00.000-04:00',
  'T12:00:00.000-04:00',
  'T12:30:00.000-04:00',
];

export const slotsTimesGroupA3 = [
  'T10:30:00.000-04:00',
  'T10:45:00.000-04:00',
  'T11:00:00.000-04:00',
  'T11:30:00.000-04:00',
  'T12:00:00.000-04:00',
  'T12:30:00.000-04:00',
];

export const slotsTimesGroupA4 = [
  'T11:00:00.000-04:00',
  'T11:15:00.000-04:00',
  'T11:30:00.000-04:00',
  'T11:45:00.000-04:00',
  'T12:00:00.000-04:00',
  'T12:15:00.000-04:00',
  'T12:30:00.000-04:00',
  'T12:45:00.000-04:00',
];
